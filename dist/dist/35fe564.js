/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{540:function(t,e,o){var r,n,l;l=function(t){"use strict";var e=t?t._modules:{};function o(t,path,e,o){t.hasOwnProperty(path)||(t[path]=o.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:path,module:t[path]}})))}o(e,"Series/ColorMapMixin.js",[e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],(function(t,e,o){var r=t.noop,n=t.seriesTypes,l=o.defined;return(0,o.addEvent)(e,"afterSetState",(function(t){var e=this;e.moveToTopOnHover&&e.graphic&&e.graphic.attr({zIndex:t&&"hover"===t.state?1:0})})),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:r,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:n.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return!l(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e}}}})),o(e,"Series/Treemap/TreemapAlgorithmGroup.js",[],(function(){return function(){function t(t,e,o,p){this.height=t,this.width=e,this.plot=p,this.direction=o,this.startDirection=o,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}}}return t.prototype.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},t.prototype.reset=function(){this.nW=0,this.lW=0,this.elArr=[],this.total=0},t}()})),o(e,"Series/DrawPointComposition.js",[],(function(){var t;return function(t){var e=[];function o(t){var e=this,o=t.animatableAttribs,r=t.onComplete,n=t.css,l=t.renderer,d=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,h=this.graphic;if(t.attribs=t.attribs||{},t.attribs.class=this.getClassName(),this.shouldDraw())h||(this.graphic=h="text"===t.shapeType?l.text():l[t.shapeType](t.shapeArgs||{}),h.add(t.group)),n&&h.css(n),h.attr(t.attribs).animate(o,!t.isNew&&d,r);else if(h){var c=function(){e.graphic=h=h&&h.destroy(),"function"==typeof r&&r()};Object.keys(o).length?h.animate(o,void 0,(function(){c()})):c()}}function r(){return!this.isNull}t.compose=function(t){if(-1===e.indexOf(t)){e.push(t);var n=t.prototype;n.draw=o,n.shouldDraw||(n.shouldDraw=r)}return t}}(t||(t={})),t})),o(e,"Series/Treemap/TreemapPoint.js",[e["Series/DrawPointComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,o){var r,n=this&&this.__extends||(r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)},function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),l=e.series.prototype.pointClass,d=e.seriesTypes,h=d.pie.prototype.pointClass,c=d.scatter.prototype.pointClass,v=o.extend,f=o.isNumber,y=o.pick,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=void 0,e.node=void 0,e.options=void 0,e.series=void 0,e.value=void 0,e}return n(e,t),e.prototype.getClassName=function(){var t=l.prototype.getClassName.call(this),e=this.series,o=e.options;return this.node.level<=e.nodeMap[e.rootNode].level?t+=" highcharts-above-level":this.node.isLeaf||y(o.interactByLeaf,!o.allowTraversingTree)?this.node.isLeaf||(t+=" highcharts-internal-node"):t+=" highcharts-internal-node-interactive",t},e.prototype.isValid=function(){return Boolean(this.id||f(this.value))},e.prototype.setState=function(t){l.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})},e.prototype.shouldDraw=function(){return f(this.plotY)&&null!==this.y},e}(c);return v(m.prototype,{setVisible:h.prototype.setVisible}),t.compose(m),m})),o(e,"Series/Treemap/TreemapUtilities.js",[e["Core/Utilities.js"]],(function(t){var e,o=t.objectEach;return function(t){t.AXIS_MAX=100,t.isBoolean=function(t){return"boolean"==typeof t},t.eachObject=function(t,e,r){r=r||this,o(t,(function(o,n){e.call(r,o,n,t)}))},t.recursive=function t(e,o,r){var n;void 0===r&&(r=this),!1!==(n=o.call(r,e))&&t(n,o,r)}}(e||(e={})),e})),o(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],(function(t,e){var o=e.extend,r=e.isArray,n=e.isNumber,l=e.isObject,d=e.merge,h=e.pick,c={getColor:function(e,o){var r,n,l,d,c,v,f=o.index,y=o.mapOptionsToLevel,m=o.parentColor,x=o.parentColorIndex,w=o.series,T=o.colors,A=o.siblings,B=w.points,C=w.chart.options.chart;return e&&(r=B[e.i],n=y[e.level]||{},r&&n.colorByPoint&&(d=r.index%(T?T.length:C.colorCount),l=T&&T[d]),w.chart.styledMode||(c=h(r&&r.options.color,n&&n.color,l,m&&function(e){var o=n&&n.colorVariation;return o&&"brightness"===o.key&&f&&A?t.parse(e).brighten(o.to*(f/A)).get():e}(m),w.color)),v=h(r&&r.options.colorIndex,n&&n.colorIndex,d,x,o.colorIndex)),{color:c,colorIndex:v}},getLevelOptions:function(t){var e,o,i,c,v,f,y=null;if(l(t))for(y={},c=n(t.from)?t.from:1,f=t.levels,o={},e=l(t.defaults)?t.defaults:{},r(f)&&(o=f.reduce((function(t,o){var r,v,f;return l(o)&&n(o.level)&&(f=d({},o),v=h(f.levelIsConstant,e.levelIsConstant),delete f.levelIsConstant,delete f.level,r=o.level+(v?0:c-1),l(t[r])?d(!0,t[r],f):t[r]=f),t}),{})),v=n(t.to)?t.to:1,i=0;i<=v;i++)y[i]=d({},e,l(o[i])?o[i]:{});return y},setTreeValues:function t(e,r){var n=r.before,l=r.idRoot,d=r.mapIdToNode[l],c=!1!==r.levelIsConstant,v=r.points[e.i],f=v&&v.options||{},y=[],m=0;e.levelDynamic=e.level-(c?0:d.level),e.name=h(v&&v.name,""),e.visible=l===e.id||!0===r.visible,"function"==typeof n&&(e=n(e,r)),e.children.forEach((function(n,i){var l=o({},r);o(l,{index:i,siblings:e.children.length,visible:e.visible}),n=t(n,l),y.push(n),n.visible&&(m+=n.val)}));var x=h(f.value,m);return e.visible=x>=0&&(m>0||e.visible),e.children=y,e.childrenTotal=m,e.isLeaf=e.visible&&!m,e.val=x,e},updateRootId:function(t){var e,o;return l(t)&&(o=l(t.options)?t.options:{},e=h(t.rootNode,o.rootId,""),l(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}};return c})),o(e,"Extensions/Breadcrumbs.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/DefaultOptions.js"],e["Core/Utilities.js"],e["Core/FormatUtilities.js"]],(function(t,e,o,r,n){var l=o.defaultOptions,d=n.format,h=r.addEvent,c=r.objectEach,v=r.extend,f=r.fireEvent,y=r.merge,m=r.pick,x=r.defined,w=r.isString;v(l.lang,{mainBreadcrumb:"Main"});var T=function(){function t(e,o){this.group=void 0,this.list=[],this.elementList={},this.isDirty=!0,this.level=0,this.options=void 0;var r=y(e.options.drilldown&&e.options.drilldown.drillUpButton,t.defaultBreadcrumbsOptions,e.options.navigation&&e.options.navigation.breadcrumbs,o);this.chart=e,this.options=r||{}}return t.prototype.updateProperties=function(t){this.setList(t),this.setLevel(),this.isDirty=!0},t.prototype.setList=function(t){this.list=t},t.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},t.prototype.getLevel=function(){return this.level},t.prototype.getButtonText=function(t){var e=this.chart,o=this.options,r=e.options.lang,n=m(o.format,o.showFullPath?"{level.name}":"← {level.name}"),l=r&&m(r.drillUpText,r.mainBreadcrumb),h=o.formatter&&o.formatter(t)||d(n,{level:t.levelOptions},e)||"";return(w(h)&&!h.length||"← "===h)&&x(l)&&(h=o.showFullPath?l:"← "+l),h},t.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},t.prototype.render=function(){var t=this,e=t.chart,o=t.options;!t.group&&o&&(t.group=e.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:o.zIndex}).add()),o.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},t.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},t.prototype.renderSingleButton=function(){var t=this,e=t.chart,o=t.list,r=t.options.buttonSpacing;this.destroyListElements();var n=t.group?t.group.getBBox().width:r,l=r,d=o[o.length-2];!e.drillUpButton&&this.level>0?e.drillUpButton=t.renderButton(d,n,l):e.drillUpButton&&(this.level>0?this.updateSingleButton():this.destroySingleButton())},t.prototype.alignBreadcrumbsGroup=function(t){var e=this;if(e.group){var o=e.options,r=o.buttonTheme,n=o.position,l="chart"===o.relativeTo||"spacingBox"===o.relativeTo?void 0:"scrollablePlotBox",d=e.group.getBBox(),h=2*(r.padding||0)+o.buttonSpacing;n.width=d.width+h,n.height=d.height+h;var c=y(n);t&&(c.x+=t),c.y=m(c.y,this.yOffset,0),e.group.align(c,!0,l)}},t.prototype.renderButton=function(t,e,o){var r=this,n=this.chart,l=r.options,d=y(l.buttonTheme),h=d.states;delete d.states;var button=n.renderer.button(r.getButtonText(t),e,o,(function(e){var o,n=l.events&&l.events.click;n&&(o=n.call(r,e,t)),!1!==o&&(l.showFullPath?e.newLevel=t.level:e.newLevel=r.level-1,f(r,"up",e))}),d,h&&h.hover,h&&h.select,h&&h.disabled).addClass("highcharts-breadcrumbs-button").add(r.group);return n.styledMode||button.attr(l.style),button},t.prototype.renderSeparator=function(t,e){var o=this.chart,r=this.options.separator,n=o.renderer.label(r.text,t,e,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);return o.styledMode||n.css(r.style),n},t.prototype.update=function(t){y(!0,this.options,t),this.destroy(),this.isDirty=!0},t.prototype.updateSingleButton=function(){var t=this.chart,e=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(e)})},t.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},t.prototype.destroyListElements=function(t){var e=this.elementList;c(e,(function(element,o){!t&&e[o].updated||((element=e[o]).button&&element.button.destroy(),element.separator&&element.separator.destroy(),delete element.button,delete element.separator,delete e[o])})),t&&(this.elementList={})},t.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},t.prototype.resetElementListState=function(){c(this.elementList,(function(element){element.updated=!1}))},t.prototype.updateListElements=function(){var t,e=function(element,t){return element.getBBox().width+t},o=this,r=o.elementList,n=o.options.buttonSpacing,l=o.list,d=o.group?e(o.group,n):n,h=n;l.forEach((function(c,v){var button,f,y=v===l.length-1;r[c.level]?(button=(t=r[c.level]).button,t.separator||y?t.separator&&y&&(t.separator.destroy(),delete t.separator):(d+=n,t.separator=o.renderSeparator(d,h),d+=e(t.separator,n)),r[c.level].updated=!0):(button=o.renderButton(c,d,h),d+=e(button,n),y||(f=o.renderSeparator(d,h),d+=e(f,n)),r[c.level]={button:button,separator:f,updated:!0}),button&&button.setState(y?2:0)}))},t.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7},t}();return e.Breadcrumbs||(e.Breadcrumbs=T,h(t,"getMargins",(function(){var t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var e=t.options,o=e.buttonTheme,r=(o.height||0)+2*(o.padding||0)+e.buttonSpacing,n=e.position.verticalAlign;"bottom"===n?(this.marginBottom=(this.marginBottom||0)+r,t.yOffset=r):"middle"!==n?(this.plotTop+=r,t.yOffset=-r):t.yOffset=void 0}})),h(t,"redraw",(function(){this.breadcrumbs&&this.breadcrumbs.redraw()})),h(t,"destroy",(function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)})),h(t,"afterShowResetZoom",(function(){var t=this;if(t.breadcrumbs){var e=t.resetZoomButton&&t.resetZoomButton.getBBox(),o=t.breadcrumbs.options;e&&"right"===o.position.align&&"plotBox"===o.relativeTo&&t.breadcrumbs.alignBreadcrumbsGroup(-e.width-o.buttonSpacing)}})),h(t,"selection",(function(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}))),T})),o(e,"Series/Treemap/TreemapComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Series/Treemap/TreemapUtilities.js"],e["Core/Utilities.js"]],(function(t,e,o){var r=t.series,n=o.addEvent,l=o.extend,d=!1;n(r,"afterBindAxes",(function(){var t,o=this,r=o.xAxis,n=o.yAxis;r&&n&&(o.is("treemap")?(t={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:e.AXIS_MAX,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]},l(n.options,t),l(r.options,t),d=!0):d&&(n.setOptions(n.userOptions),r.setOptions(r.userOptions),d=!1))}))})),o(e,"Series/Treemap/TreemapSeries.js",[e["Core/Color/Color.js"],e["Series/ColorMapMixin.js"],e["Core/Globals.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Treemap/TreemapAlgorithmGroup.js"],e["Series/Treemap/TreemapPoint.js"],e["Series/Treemap/TreemapUtilities.js"],e["Series/TreeUtilities.js"],e["Extensions/Breadcrumbs.js"],e["Core/Utilities.js"]],(function(t,e,o,r,n,l,d,h,c,v,f){var y,m=this&&this.__extends||(y=function(t,b){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},y(t,b)},function(t,b){function e(){this.constructor=t}y(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),x=t.parse,w=o.noop,T=n.series,A=n.seriesTypes,B=A.column,C=A.heatmap,S=A.scatter,L=c.getColor,P=c.getLevelOptions,O=c.updateRootId,M=f.addEvent,j=f.correctFloat,I=f.defined,R=f.error,E=f.extend,D=f.fireEvent,N=f.isArray,U=(f.isNumber,f.isObject),W=f.isString,_=f.merge,k=f.pick,H=f.stableSort,V=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.axisRatio=void 0,e.data=void 0,e.mapOptionsToLevel=void 0,e.nodeMap=void 0,e.options=void 0,e.points=void 0,e.rootNode=void 0,e.tree=void 0,e.level=void 0,e}return m(o,t),o.prototype.algorithmCalcPoints=function(t,e,o,r){var n,l,d,h,c,v=o.lW,f=o.lH,y=o.plot,i=0,m=o.elArr.length-1;e?(v=o.nW,f=o.nH):c=o.elArr[o.elArr.length-1],o.elArr.forEach((function(p){(e||i<m)&&(0===o.direction?(n=y.x,l=y.y,h=p/(d=v)):(n=y.x,l=y.y,d=p/(h=f)),r.push({x:n,y:l,width:d,height:j(h)}),0===o.direction?y.y=y.y+h:y.x=y.x+d),i+=1})),o.reset(),0===o.direction?o.width=o.width-v:o.height=o.height-f,y.y=y.parent.y+(y.parent.height-o.height),y.x=y.parent.x+(y.parent.width-o.width),t&&(o.direction=1-o.direction),e||o.addElement(c)},o.prototype.algorithmFill=function(t,e,o){var r,n,l,d,h,c=[],v=e.direction,f=e.x,y=e.y,m=e.width,x=e.height;return o.forEach((function(o){r=e.width*e.height*(o.val/e.val),n=f,l=y,0===v?(m-=d=r/(h=x),f+=d):(x-=h=r/(d=m),y+=h),c.push({x:n,y:l,width:d,height:h}),t&&(v=1-v)})),c},o.prototype.algorithmLowAspectRatio=function(t,e,o){var r,n=[],d=this,h={x:e.x,y:e.y,parent:e},c=e.direction,i=0,v=o.length-1,f=new l(e.height,e.width,c,h);return o.forEach((function(o){r=e.width*e.height*(o.val/e.val),f.addElement(r),f.lP.nR>f.lP.lR&&d.algorithmCalcPoints(t,!1,f,n,h),i===v&&d.algorithmCalcPoints(t,!0,f,n,h),i+=1})),n},o.prototype.alignDataLabel=function(t,e,o){var style=o.style;style&&!I(style.textOverflow)&&e.text&&e.getBBox().width>e.text.textWidth&&e.css({textOverflow:"ellipsis",width:style.width+="px"}),B.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},o.prototype.buildNode=function(t,i,e,o,r){var n,l,d=this,h=[],c=d.points[i],v=0;return(o[t]||[]).forEach((function(i){l=d.buildNode(d.points[i].id,i,e+1,o,t),v=Math.max(l.height+1,v),h.push(l)})),n={id:t,i:i,children:h,height:v,level:e,parent:r,visible:!1},d.nodeMap[n.id]=n,c&&(c.node=n),n},o.prototype.calculateChildrenAreas=function(t,area){var e,o,r=this,n=r.options,l=r.mapOptionsToLevel[t.level+1],d=k(r[l&&l.layoutAlgorithm]&&l.layoutAlgorithm,n.layoutAlgorithm),c=n.alternateStartingDirection;o=t.children.filter((function(t){return!t.ignore})),l&&l.layoutStartingDirection&&(area.direction="vertical"===l.layoutStartingDirection?0:1),e=r[d](area,o),o.forEach((function(t,o){var n=e[o];t.values=_(n,{val:t.childrenTotal,direction:c?1-area.direction:area.direction}),t.pointValues=_(n,{x:n.x/r.axisRatio,y:h.AXIS_MAX-n.y-n.height,width:n.width/r.axisRatio}),t.children.length&&r.calculateChildrenAreas(t,t.values)}))},o.prototype.createList=function(t){var e=this.chart,o=e.breadcrumbs,r=[];if(o){var n=0;r.push({level:n,levelOptions:e.series[0]});for(var l=t.target.nodeMap[t.newRootId],d=[];l.parent||""===l.parent;)d.push(l),l=t.target.nodeMap[l.parent];d.reverse().forEach((function(t){r.push({level:++n,levelOptions:t})})),r.length<=1&&(r.length=0)}return r},o.prototype.drawDataLabels=function(){var t,e,o=this,r=o.mapOptionsToLevel;o.points.filter((function(t){return t.node.visible})).forEach((function(n){e=r[n.node.level],t={style:{}},n.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=_(t,e.dataLabels),o._hasPointLabels=!0),n.shapeArgs&&(t.style.width=n.shapeArgs.width,n.dataLabel&&n.dataLabel.css({width:n.shapeArgs.width+"px"})),n.dlOptions=_(t,n.options.dataLabels)})),T.prototype.drawDataLabels.call(this)},o.prototype.drawPoints=function(){var t=this,e=t.chart,o=e.renderer,r=t.points,n=e.styledMode,l=t.options,shadow=n?{}:l.shadow,d=l.borderRadius,h=e.pointCount<l.animationLimit,c=l.allowTraversingTree;r.forEach((function(e){var r=e.node.levelDynamic,v={},f={},y={},m="level-group-"+e.node.level,x=!!e.graphic,w=h&&x,T=e.shapeArgs;e.shouldDraw()&&(e.isInside=!0,d&&(f.r=d),_(!0,w?v:f,x?T:{},n?{}:t.pointAttribs(e,e.selected?"select":void 0)),t.colorAttribs&&n&&E(y,t.colorAttribs(e)),t[m]||(t[m]=o.g(m).attr({zIndex:1e3-(r||0)}).add(t.group),t[m].survive=!0)),e.draw({animatableAttribs:v,attribs:f,css:y,group:t[m],renderer:o,shadow:shadow,shapeArgs:T,shapeType:"rect"}),c&&e.graphic&&(e.drillId=l.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e))}))},o.prototype.drillToByGroup=function(t){var e=!1;return t.node.level-this.nodeMap[this.rootNode].level!=1||t.node.isLeaf||(e=t.id),e},o.prototype.drillToByLeaf=function(t){var e,o=this,r=!1;if(t.node.parent!==o.rootNode&&t.node.isLeaf)for(e=t.node;!r;)(e=o.nodeMap[e.parent]).parent===o.rootNode&&(r=e.id);return r},o.prototype.drillToNode=function(t,e){R(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(t,e)},o.prototype.drillUp=function(){var t=this,e=t.nodeMap[t.rootNode];e&&W(e.parent)&&t.setRootNode(e.parent,!0,{trigger:"traverseUpButton"})},o.prototype.getExtremes=function(){var t=T.prototype.getExtremes.call(this,this.colorValueData),e=t.dataMin,o=t.dataMax;return this.valueMin=e,this.valueMax=o,T.prototype.getExtremes.call(this)},o.prototype.getListOfParents=function(data,t){var e=N(data)?data:[],o=N(t)?t:[],r=e.reduce((function(t,e,i){var o=k(e.parent,"");return void 0===t[o]&&(t[o]=[]),t[o].push(i),t}),{"":[]});return h.eachObject(r,(function(t,e,r){""!==e&&-1===o.indexOf(e)&&(t.forEach((function(t){r[""].push(t)})),delete r[e])})),r},o.prototype.getTree=function(){var t=this,e=this.data.map((function(t){return t.id})),o=t.getListOfParents(this.data,e);return t.nodeMap={},t.buildNode("",-1,0,o)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(t,o){var r,n=this,l=_(o.drillUpButton,o.breadcrumbs);this.colorAttribs=e.SeriesMixin.colorAttribs,r=M(n,"setOptions",(function(t){var e=t.userOptions;I(e.allowDrillToNode)&&!I(e.allowTraversingTree)&&(e.allowTraversingTree=e.allowDrillToNode,delete e.allowDrillToNode),I(e.drillUpButton)&&!I(e.traverseUpButton)&&(e.traverseUpButton=e.drillUpButton,delete e.drillUpButton)})),T.prototype.init.call(n,t,o),delete n.opacity,n.eventsToUnbind.push(r),n.options.allowTraversingTree&&(n.eventsToUnbind.push(M(n,"click",n.onClickDrillToNode)),n.eventsToUnbind.push(M(n,"setRootNode",(function(t){var e=n.chart;e.breadcrumbs&&e.breadcrumbs.updateProperties(n.createList(t))}))),n.eventsToUnbind.push(M(n,"update",(function(t,e){var o=this.chart.breadcrumbs;o&&t.options.breadcrumbs&&o.update(t.options.breadcrumbs)}))),n.eventsToUnbind.push(M(n,"destroy",(function(t){var e=this.chart;e.breadcrumbs&&(e.breadcrumbs.destroy(),t.keepEventsForUpdate||(e.breadcrumbs=void 0))})))),t.breadcrumbs||(t.breadcrumbs=new v(t,l)),n.eventsToUnbind.push(M(t.breadcrumbs,"up",(function(t){for(var e=this.level-t.newLevel,i=0;i<e;i++)n.drillUp()})))},o.prototype.onClickDrillToNode=function(t){var e=t.point,o=e&&e.drillId;W(o)&&(e.setState(""),this.setRootNode(o,!0,{trigger:"click"}))},o.prototype.pointAttribs=function(t,e){var o,r,n=U(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},l=t&&n[t.node.level]||{},d=this.options,h=e&&d.states[e]||{},c=t&&t.getClassName()||"";return o={stroke:t&&t.borderColor||l.borderColor||h.borderColor||d.borderColor,"stroke-width":k(t&&t.borderWidth,l.borderWidth,h.borderWidth,d.borderWidth),dashstyle:t&&t.borderDashStyle||l.borderDashStyle||h.borderDashStyle||d.borderDashStyle,fill:t&&t.color||this.color},-1!==c.indexOf("highcharts-above-level")?(o.fill="none",o["stroke-width"]=0):-1!==c.indexOf("highcharts-internal-node-interactive")?(r=k(h.opacity,d.opacity),o.fill=x(o.fill).setOpacity(r).get(),o.cursor="pointer"):-1!==c.indexOf("highcharts-internal-node")?o.fill="none":e&&(o.fill=x(o.fill).brighten(h.brightness).get()),o},o.prototype.setColorRecursive=function(t,e,o,r,n){var l,d,h=this,c=h&&h.chart,v=c&&c.options&&c.options.colors;t&&(l=L(t,{colors:v,index:r,mapOptionsToLevel:h.mapOptionsToLevel,parentColor:e,parentColorIndex:o,series:h,siblings:n}),(d=h.points[t.i])&&(d.color=l.color,d.colorIndex=l.colorIndex),(t.children||[]).forEach((function(e,i){h.setColorRecursive(e,l.color,l.colorIndex,i,t.children.length)})))},o.prototype.setPointValues=function(){var t=this,e=t.points,o=t.xAxis,r=t.yAxis,n=t.chart.styledMode;e.forEach((function(e){var l=e.node,d=l.pointValues,h=l.visible;if(d&&h){var c=d.height,v=d.width,f=d.x,y=d.y,m=function(e){return n?0:(t.pointAttribs(e)["stroke-width"]||0)%2/2}(e),x=Math.round(o.toPixels(f,!0))-m,w=Math.round(o.toPixels(f+v,!0))-m,T=Math.round(r.toPixels(y,!0))-m,A=Math.round(r.toPixels(y+c,!0))-m,B={x:Math.min(x,w),y:Math.min(T,A),width:Math.abs(w-x),height:Math.abs(A-T)};e.plotX=B.x+B.width/2,e.plotY=B.y+B.height/2,e.shapeArgs=B}else delete e.plotX,delete e.plotY}))},o.prototype.setRootNode=function(t,e,o){var r=this,n=E({newRootId:t,previousRootId:r.rootNode,redraw:k(e,!0),series:r},o);D(r,"setRootNode",n,(function(t){var e=t.series;e.idPreviousRoot=t.previousRootId,e.rootNode=t.newRootId,e.isDirty=!0,t.redraw&&e.chart.redraw()}))},o.prototype.setState=function(t){this.options.inactiveOtherPoints=!0,T.prototype.setState.call(this,t,!1),this.options.inactiveOtherPoints=!1},o.prototype.setTreeValues=function(t){var e,o=this,r=o.options,n=o.rootNode,l=o.nodeMap[n],d=!h.isBoolean(r.levelIsConstant)||r.levelIsConstant,c=0,v=[],f=o.points[t.i];return t.children.forEach((function(t){t=o.setTreeValues(t),v.push(t),t.ignore||(c+=t.val)})),H(v,(function(a,b){return(a.sortIndex||0)-(b.sortIndex||0)})),e=k(f&&f.options.value,c),f&&(f.value=e),E(t,{children:v,childrenTotal:c,ignore:!(k(f&&f.visible,!0)&&e>0),isLeaf:t.visible&&!c,levelDynamic:t.level-(d?0:l.level),name:k(f&&f.name,""),sortIndex:k(f&&f.sortIndex,-e),val:e}),t},o.prototype.sliceAndDice=function(t,e){return this.algorithmFill(!0,t,e)},o.prototype.squarified=function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},o.prototype.strip=function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},o.prototype.stripes=function(t,e){return this.algorithmFill(!1,t,e)},o.prototype.translate=function(){var t,e,o,r,n,l=this,d=l.options,c=O(l);T.prototype.translate.call(l),r=l.tree=l.getTree(),t=l.nodeMap[c],""===c||t&&t.children.length||(l.setRootNode("",!1),c=l.rootNode,t=l.nodeMap[c]),l.mapOptionsToLevel=P({from:t.level+1,levels:d.levels,to:r.height,defaults:{levelIsConstant:l.options.levelIsConstant,colorByPoint:d.colorByPoint}}),h.recursive(l.nodeMap[l.rootNode],(function(t){var e=!1,p=t.parent;return t.visible=!0,(p||""===p)&&(e=l.nodeMap[p]),e})),h.recursive(l.nodeMap[l.rootNode].children,(function(t){var e=!1;return t.forEach((function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))})),e})),l.setTreeValues(r),l.axisRatio=l.xAxis.len/l.yAxis.len,l.nodeMap[""].pointValues=e={x:0,y:0,width:h.AXIS_MAX,height:h.AXIS_MAX},l.nodeMap[""].values=o=_(e,{width:e.width*l.axisRatio,direction:"vertical"===d.layoutStartingDirection?0:1,val:r.val}),l.calculateChildrenAreas(r,o),l.colorAxis||d.colorByPoint||l.setColorRecursive(l.tree),d.allowTraversingTree&&(n=t.pointValues,l.xAxis.setExtremes(n.x,n.x+n.width,!1),l.yAxis.setExtremes(n.y,n.y+n.height,!1),l.xAxis.setScale(),l.yAxis.setScale()),l.setPointValues()},o.defaultOptions=_(S.defaultOptions,{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var t=this&&this.point?this.point:{};return W(t.name)?t.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:C?0:.1,halo:!1,opacity:.75,shadow:!1}}}),o}(S);return E(V.prototype,{buildKDTree:w,colorKey:"colorValue",directTouch:!0,drawLegendSymbol:r.drawRectangle,getExtremesFromAll:!0,getSymbol:w,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:d,trackerGroups:["group","dataLabelsGroup"],utils:{recursive:h.recursive}}),n.registerSeriesType("treemap",V),V})),o(e,"masters/modules/treemap.src.js",[e["Core/Globals.js"],e["Extensions/Breadcrumbs.js"]],(function(t,e){t.Breadcrumbs=e}))},t.exports?(l.default=l,t.exports=l):(r=[o(140)],void 0===(n=function(t){return l(t),l.Highcharts=t,l}.apply(e,r))||(t.exports=n))}}]);