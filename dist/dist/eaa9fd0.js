(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{539:function(t,e,o){var r,n,a;a=function(a){function t(a,t,e,o){a.hasOwnProperty(t)||(a[t]=o.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:a[t]}})))}t(a=a?a._modules:{},"Series/ColorMapMixin.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],(function(a,t,e){var o=a.noop;a=a.seriesTypes;var r=e.defined;return(e=e.addEvent)(t,"afterSetState",(function(a){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:a&&"hover"===a.state?1:0})})),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:o,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.column.prototype.pointAttribs,colorAttribs:function(a){var t={};return!r(a.color)||a.state&&"normal"!==a.state||(t[this.colorProp||"fill"]=a.color),t}}}})),t(a,"Series/Treemap/TreemapAlgorithmGroup.js",[],(function(){return function(){function a(a,t,e,o){this.height=a,this.width=t,this.plot=o,this.startDirection=this.direction=e,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,t){return Math.max(a/t,t/a)}}}return a.prototype.addElement=function(a){this.lP.total=this.elArr[this.elArr.length-1],this.total+=a,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(a)},a.prototype.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0},a}()})),t(a,"Series/DrawPointComposition.js",[],(function(){var a;return function(a){function t(a){var t=this,e=a.animatableAttribs,o=a.onComplete,b=a.css,g=a.renderer,r=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,n=this.graphic;if(a.attribs=a.attribs||{},a.attribs.class=this.getClassName(),this.shouldDraw())n||(this.graphic=n="text"===a.shapeType?g.text():g[a.shapeType](a.shapeArgs||{}),n.add(a.group)),b&&n.css(b),n.attr(a.attribs).animate(e,!a.isNew&&r,o);else if(n){var l=function(){t.graphic=n=n&&n.destroy(),"function"==typeof o&&o()};Object.keys(e).length?n.animate(e,void 0,(function(){l()})):l()}}function e(){return!this.isNull}var o=[];a.compose=function(a){if(-1===o.indexOf(a)){o.push(a);var q=a.prototype;q.draw=t,q.shouldDraw||(q.shouldDraw=e)}return a}}(a||(a={})),a})),t(a,"Series/Treemap/TreemapPoint.js",[a["Series/DrawPointComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,e){var o=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function g(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(g.prototype=t.prototype,new g)}}(),r=t.series.prototype.pointClass,n=t.seriesTypes;t=n.pie.prototype.pointClass;var q=e.extend,l=e.isNumber,u=e.pick;return e=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.name=void 0,b.node=void 0,b.options=void 0,b.series=void 0,b.value=void 0,b}return o(b,a),b.prototype.getClassName=function(){var a=r.prototype.getClassName.call(this),b=this.series,t=b.options;return this.node.level<=b.nodeMap[b.rootNode].level?a+=" highcharts-above-level":this.node.isLeaf||u(t.interactByLeaf,!t.allowTraversingTree)?this.node.isLeaf||(a+=" highcharts-internal-node"):a+=" highcharts-internal-node-interactive",a},b.prototype.isValid=function(){return!(!this.id&&!l(this.value))},b.prototype.setState=function(a){r.prototype.setState.call(this,a),this.graphic&&this.graphic.attr({zIndex:"hover"===a?1:0})},b.prototype.shouldDraw=function(){return l(this.plotY)&&null!==this.y},b}(n.scatter.prototype.pointClass),q(e.prototype,{setVisible:t.prototype.setVisible}),a.compose(e),e})),t(a,"Series/Treemap/TreemapUtilities.js",[a["Core/Utilities.js"]],(function(a){var t,e=a.objectEach;return function(a){a.AXIS_MAX=100,a.isBoolean=function(a){return"boolean"==typeof a},a.eachObject=function(a,t,o){o=o||this,e(a,(function(e,b){t.call(o,e,b,a)}))},a.recursive=function t(a,e,o){void 0===o&&(o=this),!1!==(a=e.call(o,a))&&t(a,e,o)}}(t||(t={})),t})),t(a,"Series/TreeUtilities.js",[a["Core/Color/Color.js"],a["Core/Utilities.js"]],(function(a,t){var e=t.extend,o=t.isArray,r=t.isNumber,q=t.isObject,n=t.merge,u=t.pick;return{getColor:function(b,t){var e,o=t.index,g=t.mapOptionsToLevel,r=t.parentColor,n=t.parentColorIndex,l=t.series,h=t.colors,d=t.siblings,c=l.points,v=l.chart.options.chart;if(b){if(c=c[b.i],b=g[b.level]||{},g=c&&b.colorByPoint)var q=c.index%(h?h.length:v.colorCount),f=h&&h[q];l.chart.styledMode||(h=c&&c.options.color,v=b&&b.color,(e=r)&&(e=(e=b&&b.colorVariation)&&"brightness"===e.key&&o&&d?a.parse(r).brighten(o/d*e.to).get():r),e=u(h,v,f,e,l.color));var y=u(c&&c.options.colorIndex,b&&b.colorIndex,q,n,t.colorIndex)}return{color:e,colorIndex:y}},getLevelOptions:function(a){var b=null;if(q(a)){b={};var t=r(a.from)?a.from:1,e=a.levels,l={},h=q(a.defaults)?a.defaults:{};for(o(e)&&(l=e.reduce((function(a,b){if(q(b)&&r(b.level)){var e=n({},b),o=u(e.levelIsConstant,h.levelIsConstant);delete e.levelIsConstant,delete e.level,b=b.level+(o?0:t-1),q(a[b])?n(!0,a[b],e):a[b]=e}return a}),{})),e=r(a.to)?a.to:1,a=0;a<=e;a++)b[a]=n({},h,q(l[a])?l[a]:{})}return b},setTreeValues:function t(a,g){var b=g.before,o=g.idRoot,r=g.mapIdToNode[o],n=g.points[a.i],l=n&&n.options||{},h=[],d=0;return a.levelDynamic=a.level-(!1!==g.levelIsConstant?0:r.level),a.name=u(n&&n.name,""),a.visible=o===a.id||!0===g.visible,"function"==typeof b&&(a=b(a,g)),a.children.forEach((function(b,o){var r=e({},g);e(r,{index:o,siblings:a.children.length,visible:a.visible}),b=t(b,r),h.push(b),b.visible&&(d+=b.val)})),b=u(l.value,d),a.visible=0<=b&&(0<d||a.visible),a.children=h,a.childrenTotal=d,a.isLeaf=a.visible&&!d,a.val=b,a},updateRootId:function(a){if(q(a)){var b=q(a.options)?a.options:{};b=u(a.rootNode,b.rootId,""),q(a.userOptions)&&(a.userOptions.rootId=b),a.rootNode=b}return b}}})),t(a,"Extensions/Breadcrumbs.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"],a["Core/FormatUtilities.js"]],(function(a,t,e,o,r){var n=r.format;r=o.addEvent;var q=o.objectEach,l=o.extend,u=o.fireEvent,b=o.merge,g=o.pick,h=o.defined,d=o.isString;return l(e.defaultOptions.lang,{mainBreadcrumb:"Main"}),e=function(){function a(t,e){this.group=void 0,this.list=[],this.elementList={},this.isDirty=!0,this.level=0,this.options=void 0,e=b(t.options.drilldown&&t.options.drilldown.drillUpButton,a.defaultBreadcrumbsOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e),this.chart=t,this.options=e||{}}return a.prototype.updateProperties=function(a){this.setList(a),this.setLevel(),this.isDirty=!0},a.prototype.setList=function(a){this.list=a},a.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},a.prototype.getLevel=function(){return this.level},a.prototype.getButtonText=function(a){var b=this.chart,t=this.options,e=b.options.lang,o=g(t.format,t.showFullPath?"{level.name}":"← {level.name}");return e=e&&g(e.drillUpText,e.mainBreadcrumb),a=t.formatter&&t.formatter(a)||n(o,{level:a.levelOptions},b)||"",(d(a)&&!a.length||"← "===a)&&h(e)&&(a=t.showFullPath?e:"← "+e),a},a.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},a.prototype.render=function(){var a=this.chart,b=this.options;!this.group&&b&&(this.group=a.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:b.zIndex}).add()),b.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},a.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},a.prototype.renderSingleButton=function(){var a=this.chart,b=this.list,t=this.options.buttonSpacing;this.destroyListElements();var e=this.group?this.group.getBBox().width:t;b=b[b.length-2],!a.drillUpButton&&0<this.level?a.drillUpButton=this.renderButton(b,e,t):a.drillUpButton&&(0<this.level?this.updateSingleButton():this.destroySingleButton())},a.prototype.alignBreadcrumbsGroup=function(a){if(this.group){var t=this.options,e=t.buttonTheme,o=t.position,r="chart"===t.relativeTo||"spacingBox"===t.relativeTo?void 0:"scrollablePlotBox",n=this.group.getBBox();t=2*(e.padding||0)+t.buttonSpacing,o.width=n.width+t,o.height=n.height+t,o=b(o),a&&(o.x+=a),o.y=g(o.y,this.yOffset,0),this.group.align(o,!0,r)}},a.prototype.renderButton=function(a,t,e){var o=this,r=this.chart,n=o.options,l=b(n.buttonTheme),g=l.states;return delete l.states,t=r.renderer.button(o.getButtonText(a),t,e,(function(b){var t,e=n.events&&n.events.click;e&&(t=e.call(o,b,a)),!1!==t&&(b.newLevel=n.showFullPath?a.level:o.level-1,u(o,"up",b))}),l,g&&g.hover,g&&g.select,g&&g.disabled).addClass("highcharts-breadcrumbs-button").add(o.group),r.styledMode||t.attr(n.style),t},a.prototype.renderSeparator=function(a,b){var t=this.chart,e=this.options.separator;return a=t.renderer.label(e.text,a,b,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group),t.styledMode||a.css(e.style),a},a.prototype.update=function(a){b(!0,this.options,a),this.destroy(),this.isDirty=!0},a.prototype.updateSingleButton=function(){var a=this.chart,b=this.list[this.level-1];a.drillUpButton&&a.drillUpButton.attr({text:this.getButtonText(b)})},a.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},a.prototype.destroyListElements=function(a){var b=this.elementList;q(b,(function(t,e){!a&&b[e].updated||((t=b[e]).button&&t.button.destroy(),t.separator&&t.separator.destroy(),delete t.button,delete t.separator,delete b[e])})),a&&(this.elementList={})},a.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},a.prototype.resetElementListState=function(){q(this.elementList,(function(a){a.updated=!1}))},a.prototype.updateListElements=function(){var g,a=function(a,b){return a.getBBox().width+b},b=this,t=b.elementList,e=b.options.buttonSpacing,o=b.list,r=b.group?a(b.group,e):e;o.forEach((function(n,l){if(l=l===o.length-1,t[n.level]){var h=(g=t[n.level]).button;g.separator||l?g.separator&&l&&(g.separator.destroy(),delete g.separator):(r+=e,g.separator=b.renderSeparator(r,e),r+=a(g.separator,e)),t[n.level].updated=!0}else{if(h=b.renderButton(n,r,e),r+=a(h,e),!l){var q=b.renderSeparator(r,e);r+=a(q,e)}t[n.level]={button:h,separator:q,updated:!0}}h&&h.setState(l?2:0)}))},a.defaultBreadcrumbsOptions={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#335cad"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7},a}(),t.Breadcrumbs||(t.Breadcrumbs=e,r(a,"getMargins",(function(){var a=this.breadcrumbs;if(a&&!a.options.floating&&a.level){var b=a.options,t=b.buttonTheme;t=(t.height||0)+2*(t.padding||0)+b.buttonSpacing,"bottom"===(b=b.position.verticalAlign)?(this.marginBottom=(this.marginBottom||0)+t,a.yOffset=t):"middle"!==b?(this.plotTop+=t,a.yOffset=-t):a.yOffset=void 0}})),r(a,"redraw",(function(){this.breadcrumbs&&this.breadcrumbs.redraw()})),r(a,"destroy",(function(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)})),r(a,"afterShowResetZoom",(function(){if(this.breadcrumbs){var a=this.resetZoomButton&&this.resetZoomButton.getBBox(),b=this.breadcrumbs.options;a&&"right"===b.position.align&&"plotBox"===b.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-a.width-b.buttonSpacing)}})),r(a,"selection",(function(a){!0===a.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}))),e})),t(a,"Series/Treemap/TreemapComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Series/Treemap/TreemapUtilities.js"],a["Core/Utilities.js"]],(function(a,t,e){var o=e.addEvent,r=e.extend,n=!1;o(a.series,"afterBindAxes",(function(){var a=this.xAxis,e=this.yAxis;if(a&&e)if(this.is("treemap")){var o={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:t.AXIS_MAX,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};r(e.options,o),r(a.options,o),n=!0}else n&&(e.setOptions(e.userOptions),a.setOptions(a.userOptions),n=!1)}))})),t(a,"Series/Treemap/TreemapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapMixin.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Treemap/TreemapAlgorithmGroup.js"],a["Series/Treemap/TreemapPoint.js"],a["Series/Treemap/TreemapUtilities.js"],a["Series/TreeUtilities.js"],a["Extensions/Breadcrumbs.js"],a["Core/Utilities.js"]],(function(a,t,e,o,r,n,q,l,u,b,g){var h=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},a(b,t)};return function(b,t){function p(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(p.prototype=t.prototype,new p)}}(),d=a.parse;a=e.noop;var c=r.series,v=(e=r.seriesTypes).column,f=e.heatmap,y=e.scatter,m=u.getColor,x=u.getLevelOptions,w=u.updateRootId,T=g.addEvent,A=g.correctFloat,C=g.defined,B=g.error,S=g.extend,L=g.fireEvent,P=g.isArray,O=g.isObject,M=g.isString,j=g.merge,I=g.pick,R=g.stableSort;return u=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.axisRatio=void 0,t.data=void 0,t.mapOptionsToLevel=void 0,t.nodeMap=void 0,t.options=void 0,t.points=void 0,t.rootNode=void 0,t.tree=void 0,t.level=void 0,t}return h(e,a),e.prototype.algorithmCalcPoints=function(a,t,b,e){var o,p,r,n,l=b.lW,g=b.lH,h=b.plot,d=0,c=b.elArr.length-1;if(t)l=b.nW,g=b.nH;else var v=b.elArr[b.elArr.length-1];b.elArr.forEach((function(a){(t||d<c)&&(0===b.direction?(o=h.x,p=h.y,n=a/(r=l)):(o=h.x,p=h.y,r=a/(n=g)),e.push({x:o,y:p,width:r,height:A(n)}),0===b.direction?h.y+=n:h.x+=r),d+=1})),b.reset(),0===b.direction?b.width-=l:b.height-=g,h.y=h.parent.y+(h.parent.height-b.height),h.x=h.parent.x+(h.parent.width-b.width),a&&(b.direction=1-b.direction),t||b.addElement(v)},e.prototype.algorithmFill=function(a,b,t){var p,e,o,r,n,l=[],h=b.direction,d=b.x,c=b.y,v=b.width,g=b.height;return t.forEach((function(t){p=t.val/b.val*b.height*b.width,e=d,o=c,0===h?(v-=r=p/(n=g),d+=r):(g-=n=p/(r=v),c+=n),l.push({x:e,y:o,width:r,height:n}),a&&(h=1-h)})),l},e.prototype.algorithmLowAspectRatio=function(a,b,t){var e,o=[],p=this,r={x:b.x,y:b.y,parent:b},l=0,h=t.length-1,g=new n(b.height,b.width,b.direction,r);return t.forEach((function(t){e=t.val/b.val*b.height*b.width,g.addElement(e),g.lP.nR>g.lP.lR&&p.algorithmCalcPoints(a,!1,g,o,r),l===h&&p.algorithmCalcPoints(a,!0,g,o,r),l+=1})),o},e.prototype.alignDataLabel=function(a,b,t){var e=t.style;e&&!C(e.textOverflow)&&b.text&&b.getBBox().width>b.text.textWidth&&b.css({textOverflow:"ellipsis",width:e.width+="px"}),v.prototype.alignDataLabel.apply(this,arguments),a.dataLabel&&a.dataLabel.attr({zIndex:(a.node.zIndex||0)+1})},e.prototype.buildNode=function(a,b,t,e,o){var g,r=this,p=[],n=r.points[b],l=0;return(e[a]||[]).forEach((function(b){g=r.buildNode(r.points[b].id,b,t+1,e,a),l=Math.max(g.height+1,l),p.push(g)})),b={id:a,i:b,children:p,height:l,level:t,parent:o,visible:!1},r.nodeMap[b.id]=b,n&&(n.node=b),b},e.prototype.calculateChildrenAreas=function(a,b){var g,t=this,e=t.options,o=t.mapOptionsToLevel[a.level+1],p=I(t[o&&o.layoutAlgorithm]&&o.layoutAlgorithm,e.layoutAlgorithm),r=e.alternateStartingDirection;a=a.children.filter((function(a){return!a.ignore})),o&&o.layoutStartingDirection&&(b.direction="vertical"===o.layoutStartingDirection?0:1),g=t[p](b,a),a.forEach((function(a,e){e=g[e],a.values=j(e,{val:a.childrenTotal,direction:r?1-b.direction:b.direction}),a.pointValues=j(e,{x:e.x/t.axisRatio,y:l.AXIS_MAX-e.y-e.height,width:e.width/t.axisRatio}),a.children.length&&t.calculateChildrenAreas(a,a.values)}))},e.prototype.createList=function(a){var b=this.chart,t=[];if(b.breadcrumbs){var e=0;t.push({level:e,levelOptions:b.series[0]}),b=a.target.nodeMap[a.newRootId];for(var o=[];b.parent||""===b.parent;)o.push(b),b=a.target.nodeMap[b.parent];o.reverse().forEach((function(a){t.push({level:++e,levelOptions:a})})),1>=t.length&&(t.length=0)}return t},e.prototype.drawDataLabels=function(){var t,e,a=this,b=a.mapOptionsToLevel;a.points.filter((function(a){return a.node.visible})).forEach((function(o){e=b[o.node.level],t={style:{}},o.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=j(t,e.dataLabels),a._hasPointLabels=!0),o.shapeArgs&&(t.style.width=o.shapeArgs.width,o.dataLabel&&o.dataLabel.css({width:o.shapeArgs.width+"px"})),o.dlOptions=j(t,o.options.dataLabels)})),c.prototype.drawDataLabels.call(this)},e.prototype.drawPoints=function(){var a=this,b=a.chart,t=b.renderer,e=b.styledMode,o=a.options,g=e?{}:o.shadow,r=o.borderRadius,n=b.pointCount<o.animationLimit,l=o.allowTraversingTree;a.points.forEach((function(b){var h=b.node.levelDynamic,p={},d={},c={},v="level-group-"+b.node.level,f=!!b.graphic,y=n&&f,m=b.shapeArgs;b.shouldDraw()&&(b.isInside=!0,r&&(d.r=r),j(!0,y?p:d,f?m:{},e?{}:a.pointAttribs(b,b.selected?"select":void 0)),a.colorAttribs&&e&&S(c,a.colorAttribs(b)),a[v]||(a[v]=t.g(v).attr({zIndex:1e3-(h||0)}).add(a.group),a[v].survive=!0)),b.draw({animatableAttribs:p,attribs:d,css:c,group:a[v],renderer:t,shadow:g,shapeArgs:m,shapeType:"rect"}),l&&b.graphic&&(b.drillId=o.interactByLeaf?a.drillToByLeaf(b):a.drillToByGroup(b))}))},e.prototype.drillToByGroup=function(a){var b=!1;return 1!=a.node.level-this.nodeMap[this.rootNode].level||a.node.isLeaf||(b=a.id),b},e.prototype.drillToByLeaf=function(a){var b=!1;if(a.node.parent!==this.rootNode&&a.node.isLeaf)for(a=a.node;!b;)(a=this.nodeMap[a.parent]).parent===this.rootNode&&(b=a.id);return b},e.prototype.drillToNode=function(a,b){B(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(a,b)},e.prototype.drillUp=function(){var a=this.nodeMap[this.rootNode];a&&M(a.parent)&&this.setRootNode(a.parent,!0,{trigger:"traverseUpButton"})},e.prototype.getExtremes=function(){var a=c.prototype.getExtremes.call(this,this.colorValueData),b=a.dataMax;return this.valueMin=a.dataMin,this.valueMax=b,c.prototype.getExtremes.call(this)},e.prototype.getListOfParents=function(a,b){a=P(a)?a:[];var t=P(b)?b:[];return b=a.reduce((function(a,b,t){return void 0===a[b=I(b.parent,"")]&&(a[b]=[]),a[b].push(t),a}),{"":[]}),l.eachObject(b,(function(a,b,e){""!==b&&-1===t.indexOf(b)&&(a.forEach((function(a){e[""].push(a)})),delete e[b])})),b},e.prototype.getTree=function(){var a=this.data.map((function(a){return a.id}));return a=this.getListOfParents(this.data,a),this.nodeMap={},this.buildNode("",-1,0,a)},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.init=function(a,e){var o=this,r=j(e.drillUpButton,e.breadcrumbs);this.colorAttribs=t.SeriesMixin.colorAttribs;var g=T(o,"setOptions",(function(a){a=a.userOptions,C(a.allowDrillToNode)&&!C(a.allowTraversingTree)&&(a.allowTraversingTree=a.allowDrillToNode,delete a.allowDrillToNode),C(a.drillUpButton)&&!C(a.traverseUpButton)&&(a.traverseUpButton=a.drillUpButton,delete a.drillUpButton)}));c.prototype.init.call(o,a,e),delete o.opacity,o.eventsToUnbind.push(g),o.options.allowTraversingTree&&(o.eventsToUnbind.push(T(o,"click",o.onClickDrillToNode)),o.eventsToUnbind.push(T(o,"setRootNode",(function(a){var b=o.chart;b.breadcrumbs&&b.breadcrumbs.updateProperties(o.createList(a))}))),o.eventsToUnbind.push(T(o,"update",(function(a,b){(b=this.chart.breadcrumbs)&&a.options.breadcrumbs&&b.update(a.options.breadcrumbs)}))),o.eventsToUnbind.push(T(o,"destroy",(function(a){var b=this.chart;b.breadcrumbs&&(b.breadcrumbs.destroy(),a.keepEventsForUpdate||(b.breadcrumbs=void 0))})))),a.breadcrumbs||(a.breadcrumbs=new b(a,r)),o.eventsToUnbind.push(T(a.breadcrumbs,"up",(function(a){a=this.level-a.newLevel;for(var b=0;b<a;b++)o.drillUp()})))},e.prototype.onClickDrillToNode=function(a){var b=(a=a.point)&&a.drillId;M(b)&&(a.setState(""),this.setRootNode(b,!0,{trigger:"click"}))},e.prototype.pointAttribs=function(a,b){var t=O(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},e=a&&t[a.node.level]||{};t=this.options;var o=b&&t.states[b]||{},r=a&&a.getClassName()||"";return a={stroke:a&&a.borderColor||e.borderColor||o.borderColor||t.borderColor,"stroke-width":I(a&&a.borderWidth,e.borderWidth,o.borderWidth,t.borderWidth),dashstyle:a&&a.borderDashStyle||e.borderDashStyle||o.borderDashStyle||t.borderDashStyle,fill:a&&a.color||this.color},-1!==r.indexOf("highcharts-above-level")?(a.fill="none",a["stroke-width"]=0):-1!==r.indexOf("highcharts-internal-node-interactive")?(b=I(o.opacity,t.opacity),a.fill=d(a.fill).setOpacity(b).get(),a.cursor="pointer"):-1!==r.indexOf("highcharts-internal-node")?a.fill="none":b&&(a.fill=d(a.fill).brighten(o.brightness).get()),a},e.prototype.setColorRecursive=function(a,b,t,e,o){var r=this,g=r&&r.chart;if(g=g&&g.options&&g.options.colors,a){var n=m(a,{colors:g,index:e,mapOptionsToLevel:r.mapOptionsToLevel,parentColor:b,parentColorIndex:t,series:r,siblings:o});(b=r.points[a.i])&&(b.color=n.color,b.colorIndex=n.colorIndex),(a.children||[]).forEach((function(b,t){r.setColorRecursive(b,n.color,n.colorIndex,t,a.children.length)}))}},e.prototype.setPointValues=function(){var a=this,b=a.xAxis,t=a.yAxis,e=a.chart.styledMode;a.points.forEach((function(o){var r=o.node,g=r.pointValues;if(r=r.visible,g&&r){r=g.height;var n=g.width,p=g.x,l=g.y,h=e?0:(a.pointAttribs(o)["stroke-width"]||0)%2/2;g=Math.round(b.toPixels(p,!0))-h,n=Math.round(b.toPixels(p+n,!0))-h,p=Math.round(t.toPixels(l,!0))-h,r=Math.round(t.toPixels(l+r,!0))-h,r={x:Math.min(g,n),y:Math.min(p,r),width:Math.abs(n-g),height:Math.abs(r-p)},o.plotX=r.x+r.width/2,o.plotY=r.y+r.height/2,o.shapeArgs=r}else delete o.plotX,delete o.plotY}))},e.prototype.setRootNode=function(a,b,t){a=S({newRootId:a,previousRootId:this.rootNode,redraw:I(b,!0),series:this},t),L(this,"setRootNode",a,(function(a){var b=a.series;b.idPreviousRoot=a.previousRootId,b.rootNode=a.newRootId,b.isDirty=!0,a.redraw&&b.chart.redraw()}))},e.prototype.setState=function(a){this.options.inactiveOtherPoints=!0,c.prototype.setState.call(this,a,!1),this.options.inactiveOtherPoints=!1},e.prototype.setTreeValues=function(a){var b=this,t=b.options,e=b.nodeMap[b.rootNode];t=!l.isBoolean(t.levelIsConstant)||t.levelIsConstant;var o=0,r=[],g=b.points[a.i];a.children.forEach((function(a){a=b.setTreeValues(a),r.push(a),a.ignore||(o+=a.val)})),R(r,(function(a,b){return(a.sortIndex||0)-(b.sortIndex||0)}));var n=I(g&&g.options.value,o);return g&&(g.value=n),S(a,{children:r,childrenTotal:o,ignore:!(I(g&&g.visible,!0)&&0<n),isLeaf:a.visible&&!o,levelDynamic:a.level-(t?0:e.level),name:I(g&&g.name,""),sortIndex:I(g&&g.sortIndex,-n),val:n}),a},e.prototype.sliceAndDice=function(a,b){return this.algorithmFill(!0,a,b)},e.prototype.squarified=function(a,b){return this.algorithmLowAspectRatio(!0,a,b)},e.prototype.strip=function(a,b){return this.algorithmLowAspectRatio(!1,a,b)},e.prototype.stripes=function(a,b){return this.algorithmFill(!1,a,b)},e.prototype.translate=function(){var a=this,b=a.options,t=w(a);c.prototype.translate.call(a);var e=a.tree=a.getTree(),o=a.nodeMap[t];""===t||o&&o.children.length||(a.setRootNode("",!1),t=a.rootNode,o=a.nodeMap[t]),a.mapOptionsToLevel=x({from:o.level+1,levels:b.levels,to:e.height,defaults:{levelIsConstant:a.options.levelIsConstant,colorByPoint:b.colorByPoint}}),l.recursive(a.nodeMap[a.rootNode],(function(b){var t=!1,e=b.parent;return b.visible=!0,(e||""===e)&&(t=a.nodeMap[e]),t})),l.recursive(a.nodeMap[a.rootNode].children,(function(a){var b=!1;return a.forEach((function(a){a.visible=!0,a.children.length&&(b=(b||[]).concat(a.children))})),b})),a.setTreeValues(e),a.axisRatio=a.xAxis.len/a.yAxis.len,a.nodeMap[""].pointValues=t={x:0,y:0,width:l.AXIS_MAX,height:l.AXIS_MAX},a.nodeMap[""].values=t=j(t,{width:t.width*a.axisRatio,direction:"vertical"===b.layoutStartingDirection?0:1,val:e.val}),a.calculateChildrenAreas(e,t),a.colorAxis||b.colorByPoint||a.setColorRecursive(a.tree),b.allowTraversingTree&&(b=o.pointValues,a.xAxis.setExtremes(b.x,b.x+b.width,!1),a.yAxis.setExtremes(b.y,b.y+b.height,!1),a.xAxis.setScale(),a.yAxis.setScale()),a.setPointValues()},e.defaultOptions=j(y.defaultOptions,{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var a=this&&this.point?this.point:{};return M(a.name)?a.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:f?0:.1,halo:!1,opacity:.75,shadow:!1}}}),e}(y),S(u.prototype,{buildKDTree:a,colorKey:"colorValue",directTouch:!0,drawLegendSymbol:o.drawRectangle,getExtremesFromAll:!0,getSymbol:a,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:q,trackerGroups:["group","dataLabelsGroup"],utils:{recursive:l.recursive}}),r.registerSeriesType("treemap",u),u})),t(a,"masters/modules/treemap.src.js",[a["Core/Globals.js"],a["Extensions/Breadcrumbs.js"]],(function(a,t){a.Breadcrumbs=t}))},t.exports?(a.default=a,t.exports=a):(r=[o(140)],void 0===(n=function(t){return a(t),a.Highcharts=t,a}.apply(e,r))||(t.exports=n))}}]);