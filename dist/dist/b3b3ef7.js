(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{422:function(t,e,o){var r,n,a;a=function(a){function t(a,t,q,e){a.hasOwnProperty(t)||(a[t]=e.apply(null,q),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:a[t]}})))}t(a=a?a._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[a["Core/Color/Color.js"],a["Core/Utilities.js"]],(function(a,t){var e,q=a.parse,o=t.addEvent,r=t.extend,n=t.merge,g=t.pick,u=t.splat;return function(t){function e(){var t=this,e=this.options;this.colorAxis=[],e.colorAxis&&(e.colorAxis=u(e.colorAxis),e.colorAxis.forEach((function(e,b){e.index=b,new x(t,e)})))}function l(t){var e,o,r=this,b=function(b){-1!==(b=t.allItems.indexOf(b))&&(r.destroyItem(t.allItems[b]),t.allItems.splice(b,1))},n=[];for((this.chart.colorAxis||[]).forEach((function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?n=n.concat(t.getDataClassLegendSymbols()):e.visible&&n.push(t),t.series.forEach((function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){b(t)})):b(t))})))})),o=n.length;o--;)t.allItems.unshift(n[o])}function h(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}function b(){var t=this.chart.colorAxis;t&&t.forEach((function(t,b,e){t.update({},e)}))}function c(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function d(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function f(t){var e=this,b=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach((function(t){e[t]&&e[t][b]()})),this.series.buildKDTree()}function p(){var t=this,e=this.options.nullColor,b=this.colorAxis,o=this.colorKey;(this.data.length?this.data:this.points).forEach((function(r){var n=r.getNestedProperty(o);(n=r.options.color||(r.isNull||null===r.value?e:b&&void 0!==n?b.toColor(n,r):r.color||t.color))&&r.color!==n&&(r.color=n,"point"===t.options.legendType&&r.legendItem&&t.chart.legend.colorizeItem(r,r.visible))}))}function y(t){var e=t.prototype.createAxis;t.prototype.createAxis=function(t,b){if("colorAxis"!==t)return e.apply(this,arguments);var o=new x(this,n(b.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),g(b.redraw,!0)&&this.redraw(b.animation),o}}function m(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function v(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var x,M=[];t.compose=function(t,n,g,j,C){x||(x=t),-1===M.indexOf(n)&&(M.push(n),(t=n.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],o(n,"afterGetAxes",e),y(n)),-1===M.indexOf(g)&&(M.push(g),(n=g.prototype).fillSetter=m,n.strokeSetter=v),-1===M.indexOf(j)&&(M.push(j),o(j,"afterGetAllItems",l),o(j,"afterColorizeItem",h),o(j,"afterUpdate",b)),-1===M.indexOf(C)&&(M.push(C),r(C.prototype,{optionalAxis:"colorAxis",translateColors:p}),r(C.prototype.pointClass.prototype,{setVisible:f}),o(C,"afterTranslate",c),o(C,"bindAxes",d))},t.pointSetVisible=f}(e||(e={})),e})),t(a,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}})),t(a,"Core/Axis/Color/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Color/Color.js"],a["Core/Axis/Color/ColorAxisComposition.js"],a["Core/Axis/Color/ColorAxisDefaults.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r,g,u){var n=this&&this.__extends||function(){var b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var e in t)t.hasOwnProperty(e)&&(b[e]=t[e])})(t,e)};return function(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),l=t.parse,h=o.noop,c=g.series,d=u.extend,b=u.isNumber,f=u.merge,y=u.pick;return t=function(g){function p(b,t){var e=g.call(this,b,t)||this;return e.beforePadding=!1,e.chart=void 0,e.coll="colorAxis",e.dataClasses=void 0,e.legendItem=void 0,e.legendItems=void 0,e.name="",e.options=void 0,e.stops=void 0,e.visible=!0,e.init(b,t),e}return n(p,g),p.compose=function(b,t,e,o){q.compose(p,b,t,e,o)},p.prototype.init=function(b,t){var e=b.options.legend||{},o=t.layout?"vertical"!==t.layout:"vertical"!==e.layout,r=t.visible;e=f(p.defaultColorAxisOptions,t,{showEmpty:!1,title:null,visible:e.enabled&&!1!==r}),this.coll="colorAxis",this.side=t.side||o?2:1,this.reversed=t.reversed||!o,this.opposite=!o,g.prototype.init.call(this,b,e),this.userOptions.visible=r,t.dataClasses&&this.initDataClasses(t),this.initStops(),this.horiz=o,this.zoomEnabled=!1},p.prototype.initDataClasses=function(b){var t,e=this.chart,o=this.options,r=b.dataClasses.length,n=0,p=e.options.chart.colorCount;this.dataClasses=t=[],this.legendItems=[],(b.dataClasses||[]).forEach((function(b,h){b=f(b),t.push(b),!e.styledMode&&b.color||("category"===o.dataClassColor?(e.styledMode||(h=e.options.colors,p=h.length,b.color=h[n]),b.colorIndex=n,++n===p&&(n=0)):b.color=l(o.minColor).tweenTo(l(o.maxColor),2>r?.5:h/(r-1)))}))},p.prototype.hasData=function(){return!!(this.tickPositions||[]).length},p.prototype.setTickPositions=function(){if(!this.dataClasses)return g.prototype.setTickPositions.call(this)},p.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach((function(b){b.color=l(b[1])}))},p.prototype.setOptions=function(b){g.prototype.setOptions.call(this,b),this.options.crosshair=this.options.marker},p.prototype.setAxisSize=function(){var t,e,b=this.legendSymbol,o=this.chart,r=o.options.legend||{};b?(this.left=r=b.attr("x"),this.top=t=b.attr("y"),this.width=e=b.attr("width"),this.height=b=b.attr("height"),this.right=o.chartWidth-r-e,this.bottom=o.chartHeight-t-b,this.len=this.horiz?e:b,this.pos=this.horiz?r:t):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||p.defaultLegendLength},p.prototype.normalizedValue=function(b){return this.logarithmic&&(b=this.logarithmic.log2lin(b)),1-(this.max-b)/(this.max-this.min||1)},p.prototype.toColor=function(b,t){var e,o=this.dataClasses,r=this.stops;if(o)for(e=o.length;e--;){var n=o[e],l=n.from;if(r=n.to,(void 0===l||b>=l)&&(void 0===r||b<=r)){var p=n.color;t&&(t.dataClass=e,t.colorIndex=n.colorIndex);break}}else{for(b=this.normalizedValue(b),e=r.length;e--&&!(b>r[e][0]););l=r[e]||r[e+1],b=1-((r=r[e+1]||l)[0]-b)/(r[0]-l[0]||1),p=l.color.tweenTo(r.color,b)}return p},p.prototype.getOffset=function(){var b=this.legendGroup,t=this.chart.axisOffset[this.side];if(b){this.axisParent=b,g.prototype.getOffset.call(this);var e=this.chart.legend;e.allItems.forEach((function(b){b instanceof p&&b.drawLegendSymbol(e,b)})),e.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=t}},p.prototype.setLegendColor=function(){var b=this.reversed,t=b?1:0;b=b?0:1,t=this.horiz?[t,0,b,0]:[0,b,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},p.prototype.drawLegendSymbol=function(b,t){var e=b.padding,o=b.options,r=this.horiz,n=y(o.symbolWidth,r?p.defaultLegendLength:12),l=y(o.symbolHeight,r?12:p.defaultLegendLength),h=y(o.labelPadding,r?16:30);o=y(o.itemDistance,10),this.setLegendColor(),t.legendSymbol||(t.legendSymbol=this.chart.renderer.rect(0,b.baseline-11,n,l).attr({zIndex:1}).add(t.legendGroup)),this.legendItemWidth=n+e+(r?o:this.options.labels.x+this.maxLabelLength),this.legendItemHeight=l+e+(r?h:0)},p.prototype.setState=function(b){this.series.forEach((function(t){t.setState(b)}))},p.prototype.setVisible=function(){},p.prototype.getSeriesExtremes=function(){var t,b=this.series,e=b.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;){var o=b[e],r=o.colorKey=y(o.options.colorKey,o.colorKey,o.pointValKey,o.zoneAxis,"y"),p=o.pointArrayMap,n=o[r+"Min"]&&o[r+"Max"];if(o[r+"Data"])var l=o[r+"Data"];else if(p){l=[],p=p.indexOf(r);var g=o.yData;if(0<=p&&g)for(t=0;t<g.length;t++)l.push(y(g[t][p],g[t]))}else l=o.yData;n?(o.minColorValue=o[r+"Min"],o.maxColorValue=o[r+"Max"]):(l=c.prototype.getExtremes.call(o,l),o.minColorValue=l.dataMin,o.maxColorValue=l.dataMax),void 0!==o.minColorValue&&(this.dataMin=Math.min(this.dataMin,o.minColorValue),this.dataMax=Math.max(this.dataMax,o.maxColorValue)),n||c.prototype.applyExtremes.call(o)}},p.prototype.drawCrosshair=function(b,t){var e=t&&t.plotX,o=t&&t.plotY,r=this.pos,n=this.len;if(t){var p=this.toPixels(t.getNestedProperty(t.series.colorKey));p<r?p=r-2:p>r+n&&(p=r+n+2),t.plotX=p,t.plotY=this.len-p,g.prototype.drawCrosshair.call(this,b,t),t.plotX=e,t.plotY=o,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},p.prototype.getPlotLinePath=function(t){var e=this.left,o=t.translatedValue,r=this.top;return b(o)?this.horiz?[["M",o-4,r-6],["L",o+4,r-6],["L",o,r],["Z"]]:[["M",e,o],["L",e-6,o+6],["L",e-6,o-6],["Z"]]:g.prototype.getPlotLinePath.call(this,t)},p.prototype.update=function(b,t){var e=this.chart.legend;this.series.forEach((function(b){b.isDirtyData=!0})),(b.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems(),g.prototype.update.call(this,b,t),this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))},p.prototype.destroyItems=function(){var b=this.chart;this.legendItem?b.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach((function(t){b.legend.destroyItem(t)})),b.isDirtyLegend=!0},p.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),g.prototype.destroy.apply(this,[].slice.call(arguments))},p.prototype.remove=function(b){this.destroyItems(),g.prototype.remove.call(this,b)},p.prototype.getDataClassLegendSymbols=function(){var t,b=this,e=b.chart,o=b.legendItems,n=e.options.legend,l=n.valueDecimals,p=n.valueSuffix||"";return o.length||b.dataClasses.forEach((function(n,g){var c=n.from,f=n.to,y=e.numberFormatter,m=!0;t="",void 0===c?t="< ":void 0===f&&(t="> "),void 0!==c&&(t+=y(c,l)+p),void 0!==c&&void 0!==f&&(t+=" - "),void 0!==f&&(t+=y(f,l)+p),o.push(d({chart:e,name:t,options:{},drawLegendSymbol:r.drawRectangle,visible:!0,setState:h,isDataClass:!0,setVisible:function(){m=b.visible=!m,b.series.forEach((function(b){b.points.forEach((function(b){b.dataClass===g&&b.setVisible(m)}))})),e.legend.colorizeItem(this,m)}},n))})),o},p.defaultColorAxisOptions=e,p.defaultLegendLength=200,p.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],p}(a),Array.prototype.push.apply(a.keepProps,t.keepProps),t})),t(a,"Maps/MapNavigationOptionsDefault.js",[a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],(function(a,t){return(t=t.extend)(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),a.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}})),t(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],(function(a,t,q){function e(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function o(t){this.navButtons=[],this.init(t)}var r=t.doc,g=q.addEvent,u=q.extend,n=q.isNumber,l=q.merge,h=q.objectEach,c=q.pick;o.prototype.init=function(t){this.chart=t},o.prototype.update=function(t){var o,p,a,r,b=this,n=this.chart,d=n.options.mapNavigation,f=function(b){this.handler.call(n,b),e(b)},y=b.navButtons;for(t&&(d=n.options.mapNavigation=l(n.options.mapNavigation,t));y.length;)y.pop().destroy();c(d.enableButtons,d.enabled)&&!n.renderer.forExport&&(b.navButtonsGroup||(b.navButtonsGroup=n.renderer.g().attr({zIndex:4}).add()),h(d.buttons,(function(t,h){t=l(d.buttonOptions,t),!n.styledMode&&t.theme&&((o=t.theme).style=l(t.theme.style,t.style),a=(p=o.states)&&p.hover,r=p&&p.select,delete o.states);var c=n.renderer.button(t.text||"",0,0,f,o,a,r,void 0,"zoomIn"===h?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[h]).attr({width:t.width,height:t.height,title:n.options.lang[h],padding:t.padding,zIndex:5}).add(b.navButtonsGroup);if(c.handler=t.onclick,g(c.element,"dblclick",e),y.push(c),u(t,{width:c.width,height:2*c.height}),n.hasLoaded)c.align(t,!1,t.alignTo);else var m=g(n,"load",(function(){c.element&&c.align(t,!1,t.alignTo),m()}))})),t=function(){var t=n.exportingGroup&&n.exportingGroup.getBBox();if(t){var e=b.navButtonsGroup.getBBox();if(!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)){var o=-e.y-e.height+t.y-5;t=t.y+t.height-e.y+5,b.navButtonsGroup.attr({translateY:"bottom"===(d.buttonOptions&&d.buttonOptions.verticalAlign)?o:t})}}},n.hasLoaded||g(n,"render",t)),this.updateEvents(d)},o.prototype.updateEvents=function(t){var b=this.chart;c(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||g(b.container,"dblclick",(function(t){b.pointer.onContainerDblClick(t)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),c(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||g(b.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(t){return b.pointer.inClass(t.target,"highcharts-no-mousewheel")||(b.pointer.onContainerMouseWheel(t),e(t)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},u(a.prototype,{fitToBox:function(t,b){return[["x","width"],["y","height"]].forEach((function(e){var o=e[0];e=e[1],t[o]+t[e]>b[o]+b[e]&&(t[e]>b[e]?(t[e]=b[e],t[o]=b[o]):t[o]=b[o]+b[e]-t[e]),t[e]>b[e]&&(t[e]=b[e]),t[o]<b[o]&&(t[o]=b[o])})),t},mapZoom:function(t,b,e,o,r){this.mapView&&(n(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,n(b)&&n(e)?this.mapView.projection.inverse([b,e]):void 0,n(o)&&n(r)?[o,r]:void 0))}}),g(a,"beforeRender",(function(){this.mapNavigation=new o(this),this.mapNavigation.update()})),t.MapNavigation=o})),t(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],(function(a,t){var q=t.defined,e=t.extend,o=t.pick;t=t.wrap;var u,r=a.prototype.normalize,g=0;e(a.prototype,{normalize:function(g,t){var o=this.chart;return g=r.call(this,g,t),o&&o.mapView&&(t=o.mapView.pixelsToLonLat({x:g.chartX-o.plotLeft,y:g.chartY-o.plotTop}))&&e(g,t),g},onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var a=q(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(a)&&(g+=Math.abs(a),u&&clearTimeout(u),u=setTimeout((function(){g=0}),50)),10>g&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-a,void 0,[t.chartX,t.chartY],!(1>Math.abs(a))&&void 0)}}),t(a.prototype,"zoomOption",(function(t){var e=this.chart.options.mapNavigation;o(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),t(a.prototype,"pinchTranslate",(function(t,e,g,o,r,b,n){t.call(this,e,g,o,r,b,n),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=o.scaleX>o.scaleY,this.pinchTranslateDirection(!t,e,g,o,r,b,n,t?o.scaleX:o.scaleY))}))})),t(a,"Series/ColorMapMixin.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],(function(a,t,q){var e=a.noop;a=a.seriesTypes;var o=q.defined;return(q=q.addEvent)(t,"afterSetState",(function(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})})),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:e,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.column.prototype.pointAttribs,colorAttribs:function(t){var g={};return!o(t.color)||t.state&&"normal"!==t.state||(g[this.colorProp||"fill"]=t.color),g}}}})),t(a,"Maps/MapSymbols.js",[a["Core/Renderer/SVG/SVGRenderer.js"]],(function(a){function t(a,t,e,o,g,u,r,n){return[["M",a+g,t],["L",a+e-u,t],["C",a+e-u/2,t,a+e,t+u/2,a+e,t+u],["L",a+e,t+o-r],["C",a+e,t+o-r/2,a+e-r/2,t+o,a+e-r,t+o],["L",a+n,t+o],["C",a+n/2,t+o,a,t+o-n/2,a,t+o-n],["L",a,t+g],["C",a,t+g/2,a+g/2,t,a+g,t],["Z"]]}return(a=a.prototype.symbols).bottombutton=function(a,e,o,r,g){return t(a-1,e-1,o,r,0,0,g=g&&g.r||0,g)},a.topbutton=function(a,e,o,r,g){return t(a-1,e-1,o,r,g=g&&g.r||0,g,0,0)},a})),t(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/DefaultOptions.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],(function(a,t,q,e){var o=this&&this.__extends||function(){var t=function(a,g){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var b in e)e.hasOwnProperty(b)&&(t[b]=e[b])})(a,g)};return function(a,g){function e(){this.constructor=a}t(a,g),a.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),r=t.getOptions,g=e.merge,u=e.pick;return a=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return o(t,a),t.prototype.init=function(t,e){var o=r().credits;t=g({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:u(o.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:u(o.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t),a.prototype.init.call(this,t,e)},t}(a),function(t){t.maps={},t.mapChart=function(a,g,e){return new t(a,g,e)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}))),q.prototype.pathToSegments(t)}}(a||(a={})),a})),t(a,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(a){var t,e=-Number.MAX_VALUE,q=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=Number.MAX_VALUE;if(a.forEach((function(a){var g=a[a.length-2];a=a[a.length-1],"number"==typeof g&&"number"==typeof a&&(q=Math.min(q,g),e=Math.max(e,g),r=Math.min(r,a),o=Math.max(o,a),t=!0)})),t)return{x1:q,y1:r,x2:e,y2:o}},pointInPolygon:function(a,t){var q,e=!1,o=a.x,r=a.y;for(a=0,q=t.length-1;a<t.length;q=a++)t[a][1]>r!=t[q][1]>r&&o<(t[q][0]-t[a][0])*(r-t[a][1])/(t[q][1]-t[a][1])+t[a][0]&&(e=!e);return e}}})),t(a,"Series/Map/MapPoint.js",[a["Series/ColorMapMixin.js"],a["Maps/MapUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q,e){var o=this&&this.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var e in b)b.hasOwnProperty(e)&&(t[e]=b[e])},a(t,e)};return function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r=t.boundsFromPath,g=e.extend,u=e.isNumber,n=e.pick;return t=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.options=void 0,t.path=void 0,t.series=void 0,t}return o(t,a),t.getProjectedPath=function(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]},t.prototype.applyOptions=function(t,e){var b=this.series;return t=a.prototype.applyOptions.call(this,t,e),e=b.joinBy,b.mapData&&b.mapMap&&((b=void 0!==(e=a.prototype.getNestedProperty.call(t,e[1]))&&b.mapMap[e])?g(t,b):t.value=t.value||null),t},t.prototype.getProjectedBounds=function(e){e=t.getProjectedPath(this,e),e=r(e);var o=this.properties;if(e){var b=o&&o["hc-middle-x"];return o=o&&o["hc-middle-y"],e.midX=e.x1+(e.x2-e.x1)*n(this.middleX,u(b)?b:.5),b=n(this.middleY,u(o)?o:.5),this.geometry||(b=1-b),e.midY=e.y2-(e.y2-e.y1)*b,e}},t.prototype.onMouseOver=function(t){e.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?a.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},t.prototype.zoomTo=function(){var t=this.series.chart;t.mapView&&this.bounds&&(t.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,t.redraw())},t}(q.seriesTypes.scatter.prototype.pointClass),g(t.prototype,{dataLabelOnNull:a.PointMixin.dataLabelOnNull,isValid:a.PointMixin.isValid,moveToTopOnHover:a.PointMixin.moveToTopOnHover}),t})),t(a,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),t(a,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),t(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Maps/MapUtilities.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o){function r(t,b){if(b||(b=Object.keys(t.objects)[0]),(b=t.objects[b])["hc-decoded-geojson"])return b["hc-decoded-geojson"];var e=t.arcs;if(t.transform){var a=t.transform,o=a.scale,p=a.translate;e=t.arcs.map((function(b){var t=0,e=0;return b.map((function(b){return(b=b.slice())[0]=(t+=b[0])*o[0]+p[0],b[1]=(e+=b[1])*o[1]+p[1],b}))}))}var g=function(b){return"number"==typeof b[0]?b.reduce((function(b,t,a){var o=0>t?e[~t]:e[t];return 0>t?(o=o.slice(0,0===a?o.length:o.length-1)).reverse():a&&(o=o.slice(1)),b.concat(o)}),[]):b.map(g)};return a=b.geometries.map((function(b){return{type:"Feature",properties:b.properties,geometry:{type:b.type,coordinates:b.coordinates||g(b.arcs)}}})),t={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:a,"hc-recommended-mapview":b["hc-recommended-mapview"],bbox:t.bbox},b["hc-decoded-geojson"]=t}function g(t,b,e){void 0===b&&(b="map");var a=[];return(t="Topology"===t.type?r(t):t).features.forEach((function(t){var e,o=t.geometry||{},r=o.type;o=o.coordinates,t=t.properties,("map"!==b&&"mapbubble"!==b||"Polygon"!==r&&"MultiPolygon"!==r)&&("mapline"!==b||"LineString"!==r&&"MultiLineString"!==r)?"mappoint"===b&&"Point"===r&&o.length&&(e={geometry:{coordinates:o,type:r}}):o.length&&(e={geometry:{coordinates:o,type:r}}),e&&(r=t&&(t.name||t.NAME),a.push(h(e,{name:"string"==typeof r?r:void 0,properties:t})))})),e&&t.copyrightShort&&(e.chart.mapCredits=u(e.chart.options.credits.mapText,{geojson:t}),e.chart.mapCreditsFull=u(e.chart.options.credits.mapTextFull,{geojson:t})),a}var u=t.format,n=q.win,l=o.error,h=o.extend,c=o.merge;return t=o.wrap,a.prototype.transformFromLatLon=function(t,b){var e=this.options.chart.proj4||n.proj4;if(e){var a=b.jsonmarginX;a=void 0===a?0:a;var o=b.jsonmarginY;o=void 0===o?0:o;var p=b.jsonres;p=void 0===p?1:p;var g=b.scale;g=void 0===g?1:g;var r=b.xoffset;r=void 0===r?0:r;var h=b.xpan;h=void 0===h?0:h;var c=b.yoffset;c=void 0===c?0:c;var d=b.ypan;d=void 0===d?0:d,t=e(b.crs,[t.lon,t.lat]),e=b.cosAngle||b.rotation&&Math.cos(b.rotation);var u=b.sinAngle||b.rotation&&Math.sin(b.rotation);return{x:(((b=b.rotation?[t[0]*e+t[1]*u,-t[0]*u+t[1]*e]:t)[0]-r)*g+h)*p+a,y:-(((c-b[1])*g+d)*p-o)}}l(21,!1,this)},a.prototype.transformToLatLon=function(t,b){if(this.options.chart.proj4||n.proj4){if(null!==t.y){var e=b.jsonmarginX,a=b.jsonmarginY,o=b.jsonres;o=void 0===o?1:o;var p=b.scale;p=void 0===p?1:p;var g=b.xoffset,r=b.xpan,h=b.yoffset,c=b.ypan;return t={x:((t.x-(void 0===e?0:e))/o-(void 0===r?0:r))/p+(void 0===g?0:g),y:((t.y-(void 0===a?0:a))/o+(void 0===c?0:c))/p+(void 0===h?0:h)},e=b.cosAngle||b.rotation&&Math.cos(b.rotation),a=b.sinAngle||b.rotation&&Math.sin(b.rotation),{lat:(b=n.proj4(b.crs,"WGS84",b.rotation?{x:t.x*e+t.y*-a,y:t.x*a+t.y*e}:t)).y,lon:b.x}}}else l(21,!1,this)},a.prototype.fromPointToLatLon=function(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)},a.prototype.fromLatLonToPoint=function(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)},t(a.prototype,"addCredits",(function(t,b){b=c(!0,this.options.credits,b),this.mapCredits&&(b.href=null),t.call(this,b),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),q.geojson=g,{geojson:g,topo2geo:r}})),t(a,"Core/Geometry/PolygonClip.js",[],(function(){var q,t,a=function(a,t,e){return(t[0]-a[0])*(e[1]-a[1])>(t[1]-a[1])*(e[0]-a[0])},e=function(a,t,e,g){var o=[a[0]-t[0],a[1]-t[1]],r=[e[0]-g[0],e[1]-g[1]];return a=a[0]*t[1]-a[1]*t[0],e=e[0]*g[1]-e[1]*g[0],g=1/(o[0]*r[1]-o[1]*r[0]),(o=[(a*r[0]-e*o[0])*g,(a*r[1]-e*o[1])*g]).isIntersection=!0,o};return(t=q||(q={})).clipLineString=function(a,e){var g=[];for(a=t.clipPolygon(a,e,!1),e=1;e<a.length;e++)a[e].isIntersection&&a[e-1].isIntersection&&(g.push(a.splice(0,e)),e=0),e===a.length-1&&g.push(a);return g},t.clipPolygon=function(t,o,g){void 0===g&&(g=!0);for(var r,n,l=o[o.length-1],h=t,c=0;c<o.length;c++){var d=h;t=o[c],h=[],r=g?d[d.length-1]:d[0];for(var b=0;b<d.length;b++)n=d[b],a(l,t,n)?(a(l,t,r)||h.push(e(l,t,r,n)),h.push(n)):a(l,t,r)&&h.push(e(l,t,r,n)),r=n;l=t}return h},q})),t(a,"Maps/Projections/LambertConformalConic.js",[],(function(){var a=Math.sign||function(a){return 0===a?0:0<a?1:-1},t=Math.PI/180,q=Math.PI/2;return function(){function e(e){var o,g=(e.parallels||[]).map((function(a){return a*t})),r=g[0]||0;g=null!==(o=g[1])&&void 0!==o?o:r,o=Math.cos(r),"object"==typeof e.projectedBounds&&(this.projectedBounds=e.projectedBounds),e=r===g?Math.sin(r):Math.log(o/Math.cos(g))/Math.log(Math.tan((q+g)/2)/Math.tan((q+r)/2)),1e-10>Math.abs(e)&&(e=1e-10*(a(e)||1)),this.n=e,this.c=o*Math.pow(Math.tan((q+r)/2),e)/e}return e.prototype.forward=function(a){var e=a[0]*t,g=this.c,o=this.n,r=this.projectedBounds;a=a[1]*t,0<g?a<1e-6-q&&(a=1e-6-q):a>q-1e-6&&(a=q-1e-6);var n=g/Math.pow(Math.tan((q+a)/2),o);return g=[a=n*Math.sin(o*e)*63.78137,e=63.78137*(g-n*Math.cos(o*e))],r&&(a<r.x1||a>r.x2||e<r.y1||e>r.y2)&&(g.outside=!0),g},e.prototype.inverse=function(e){var o=e[0]/63.78137,g=this.c,r=this.n;e=g-e[1]/63.78137;var n=a(r)*Math.sqrt(o*o+e*e),l=Math.atan2(o,Math.abs(e))*a(e);return 0>e*r&&(l-=Math.PI*a(o)*a(e)),[l/r/t,(2*Math.atan(Math.pow(g/n,1/r))-q)/t]},e}()})),t(a,"Maps/Projections/EqualEarth.js",[],(function(){var a=Math.sqrt(3)/2;return function(){function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return t.prototype.forward=function(t){var e=Math.PI/180,o=Math.asin(a*Math.sin(t[1]*e)),r=o*o,g=r*r*r;return[t[0]*e*Math.cos(o)*74.03120656864502/(a*(1.340264+3*-.081106*r+g*(7*893e-6+.034164*r))),74.03120656864502*o*(1.340264+-.081106*r+g*(893e-6+.003796*r))]},t.prototype.inverse=function(t){var e=t[0]/74.03120656864502;t=t[1]/74.03120656864502;var g,o=180/Math.PI,r=t;for(g=0;12>g;++g){var q=r*r,n=q*q*q,l=r*(1.340264+-.081106*q+n*(893e-6+.003796*q))-t;if(r-=l/=q=1.340264+3*-.081106*q+n*(7*893e-6+.034164*q),1e-9>Math.abs(l))break}return[o*a*e*(1.340264+3*-.081106*(q=r*r)+q*q*q*(7*893e-6+.034164*q))/Math.cos(r),o*Math.asin(Math.sin(r)/a)]},t}()})),t(a,"Maps/Projections/Miller.js",[],(function(){var a=Math.PI/4,t=Math.PI/180;return function(){function q(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return q.prototype.forward=function(e){return[e[0]*t*63.78137,79.7267125*Math.log(Math.tan(a+.4*e[1]*t))]},q.prototype.inverse=function(e){return[e[0]/63.78137/t,2.5*(Math.atan(Math.exp(e[1]/63.78137*.8))-a)/t]},q}()})),t(a,"Maps/Projections/Orthographic.js",[],(function(){var a=Math.PI/180;return function(){function t(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return t.prototype.forward=function(t){var e=t[0];return t=t[1]*a,t=[Math.cos(t)*Math.sin(e*a)*63.78460826781007,63.78460826781007*Math.sin(t)],(-90>e||90<e)&&(t.outside=!0),t},t.prototype.inverse=function(t){var e=t[0]/63.78460826781007;t=t[1]/63.78460826781007;var o=Math.sqrt(e*e+t*t),r=Math.asin(o),g=Math.sin(r);return[Math.atan2(e*g,o*Math.cos(r))/a,Math.asin(o&&t*g/o)/a]},t}()})),t(a,"Maps/Projections/WebMercator.js",[],(function(){var a=Math.PI/180;return function(){function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return t.prototype.forward=function(t){var e=Math.sin(t[1]*a);return e=[63.78137*t[0]*a,63.78137*Math.log((1+e)/(1-e))/2],85.0511287798<Math.abs(t[1])&&(e.outside=!0),e},t.prototype.inverse=function(t){return[t[0]/(63.78137*a),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/a]},t}()})),t(a,"Maps/Projections/ProjectionRegistry.js",[a["Maps/Projections/LambertConformalConic.js"],a["Maps/Projections/EqualEarth.js"],a["Maps/Projections/Miller.js"],a["Maps/Projections/Orthographic.js"],a["Maps/Projections/WebMercator.js"]],(function(a,t,q,e,o){return{EqualEarth:t,LambertConformalConic:a,Miller:q,Orthographic:e,WebMercator:o}})),t(a,"Maps/Projection.js",[a["Core/Geometry/PolygonClip.js"],a["Maps/Projections/ProjectionRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q){var e=this&&this.__spreadArrays||function(){for(var a=0,t=0,e=arguments.length;t<e;t++)a+=arguments[t].length;a=Array(a);var b=0;for(t=0;t<e;t++)for(var o=arguments[t],g=0,r=o.length;g<r;g++,b++)a[b]=o[g];return a},o=a.clipLineString,r=a.clipPolygon,g=q.clamp,u=q.erase,n=2*Math.PI/360,l=function(a){return-180>a&&(a+=360),180<a&&(a-=360),a};return function(){function a(t){void 0===t&&(t={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=t;var e=t.name,b=t.projectedBounds,o=t.rotation;this.rotator=o?this.getRotator(o):void 0,(e=e?a.registry[e]:void 0)&&(this.def=new e(t));var g=this.def,r=this.rotator;g&&(this.maxLatitude=g.maxLatitude||90,this.hasGeoProjection=!0),r&&g?(this.forward=function(b){return g.forward(r.forward(b))},this.inverse=function(b){return r.inverse(g.inverse(b))}):g?(this.forward=function(b){return g.forward(b)},this.inverse=function(b){return g.inverse(b)}):r&&(this.forward=r.forward,this.inverse=r.inverse),this.bounds="world"===b?g&&g.bounds:b}return a.add=function(t,e){a.registry[t]=e},a.greatCircle=function(a,t,b){var e=Math.atan2,o=Math.cos,g=Math.sin,r=Math.sqrt,l=a[1]*n,h=a[0]*n,c=t[1]*n,d=t[0]*n,f=c-l,q=d-h;f=2*e(r(f=g(f/2)*g(f/2)+o(l)*o(c)*g(q/2)*g(q/2)),r(1-f));var y=Math.round(6371e3*f/5e5);if(q=[],b&&q.push(a),1<y)for(y=a=1/y;.999>y;y+=a){var u=g((1-y)*f)/g(f),m=g(y*f)/g(f),v=u*o(l)*o(h)+m*o(c)*o(d),x=u*o(l)*g(h)+m*o(c)*g(d);u=e(u=u*g(l)+m*g(c),r(v*v+x*x)),v=e(x,v),q.push([v/n,u/n])}return b&&q.push(t),q},a.insertGreatCircles=function(t){for(var o=t.length-1;o--;)if(10<Math.max(Math.abs(t[o][0]-t[o+1][0]),Math.abs(t[o][1]-t[o+1][1]))){var b=a.greatCircle(t[o],t[o+1]);b.length&&t.splice.apply(t,e([o+1,0],b))}},a.toString=function(a){var t=(a=a||{}).rotation;return[a.name,t&&t.join(",")].join(";")},a.prototype.lineIntersectsBounds=function(a){var t=this.bounds||{},b=t.x2,e=t.y1,o=t.y2,g=function(b,a,t){var e=b[0];b=b[1];var o=a?0:1;if("number"==typeof t&&e[a]>=t!=b[a]>=t)return e=e[o]+(t-e[a])/(b[a]-e[a])*(b[o]-e[o]),a?[e,t]:[t,e]},r=a[0];return((t=g(a,0,t.x1))||(t=g(a,0,b)))&&(r=t,a[1]=t),((t=g(a,1,e))||(t=g(a,1,o)))&&(r=t),r},a.prototype.getRotator=function(a){var t=a[0]*n,b=(a[1]||0)*n;a=(a[2]||0)*n;var e=Math.cos(b),o=Math.sin(b),g=Math.cos(a),r=Math.sin(a);if(0!==t||0!==b||0!==a)return{forward:function(a){var b=a[0]*n+t,l=a[1]*n,h=Math.cos(l);return a=Math.cos(b)*h,b=Math.sin(b)*h,h=(l=Math.sin(l))*e+a*o,[Math.atan2(b*g-h*r,a*e-l*o)/n,Math.asin(h*g+b*r)/n]},inverse:function(a){var b=a[0]*n,l=a[1]*n,h=Math.cos(l);return a=Math.cos(b)*h,b=Math.sin(b)*h,h=(l=Math.sin(l))*g-b*r,[(Math.atan2(b*g+l*r,a*e+h*o)-t)/n,Math.asin(h*e-a*o)/n]}}},a.prototype.forward=function(a){return a},a.prototype.inverse=function(a){return a},a.prototype.cutOnAntimeridian=function(t,o){var b=[],r=[t];if(t.forEach((function(a,e){var r=t[e-1];if(!e){if(!o)return;r=t[t.length-1]}var n=r[0],l=a[0];(-90>n||90<n)&&(-90>l||90<l)&&0<n!=0<l&&(l=g((180-(n+360)%360)/((l+360)%360-(n+360)%360),0,1),b.push({i:e,lat:r[1]+l*(a[1]-r[1]),direction:0>n?1:-1,previousLonLat:r,lonLat:a}))})),b.length)if(o){if(1==b.length%2){var n=b.slice().sort((function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)}))[0];u(b,n)}for(var h=b.length-2;0<=h;){var p=b[h].i,c=l(180+1e-6*b[h].direction),d=l(180-1e-6*b[h].direction);(p=t.splice.apply(t,e([p,b[h+1].i-p],a.greatCircle([c,b[h].lat],[c,b[h+1].lat],!0)))).push.apply(p,a.greatCircle([d,b[h+1].lat],[d,b[h].lat],!0)),r.push(p),h-=2}if(n)for(c=0;c<r.length;c++){h=n.direction;var f=n.lat;if(-1<(p=(d=r[c]).indexOf(n.lonLat))){c=(0>f?-1:1)*this.maxLatitude;var y=l(180+1e-6*h),q=l(180-1e-6*h);for(f=a.greatCircle([y,f],[y,c],!0),y+=120*h;-180<y&&180>y;y+=120*h)f.push([y,c]);f.push.apply(f,a.greatCircle([q,c],[q,n.lat],!0)),d.splice.apply(d,e([p,0],f));break}}}else for(h=b.length;h--;)p=b[h].i,(p=t.splice(p,t.length,[l(180+1e-6*b[h].direction),b[h].lat])).unshift([l(180-1e-6*b[h].direction),b[h].lat]),r.push(p);return r},a.prototype.path=function(t){var q,e=this,b=this.bounds,g=this.def,n=this.rotator,l=[],p="Polygon"===t.type||"MultiPolygon"===t.type,h=this.hasGeoProjection,c=!g||!1!==g.antimeridianCutting,d=c?n:void 0,f=c&&g||this;b&&(q=[[b.x1,b.y1],[b.x2,b.y1],[b.x2,b.y2],[b.x1,b.y2]]);var y=function(t){t=t.map((function(a){if(c){d&&(a=d.forward(a));var b=a[0];1e-6>Math.abs(b-180)&&(b=180>b?179.999999:180.000001),a=[b,a[1]]}return a}));var g=[t];h&&(a.insertGreatCircles(t),c&&(g=e.cutOnAntimeridian(t,p))),g.forEach((function(t){if(!(2>t.length)){var e=!1,n=!1,g=function(a){e?l.push(["L",a[0],a[1]]):(l.push(["M",a[0],a[1]]),e=!0)},d=!1,y=!1,m=t.map((function(a){return(a=f.forward(a)).outside?d=!0:y=!0,1/0===a[1]?a[1]=1e10:-1/0===a[1]&&(a[1]=-1e10),a}));if(c){if(p&&m.push(m[0]),d){if(!y)return;if(q)if(p)m=r(m,q);else if(b)return void o(m,q).forEach((function(a){e=!1,a.forEach(g)}))}m.forEach(g)}else for(var v=0;v<m.length;v++){var x=t[v],u=m[v];if(u.outside)n=!0;else{if(p&&!M){var M=x;t.push(x),m.push(u)}n&&j&&(p&&h?a.greatCircle(j,x).forEach((function(a){return g(f.forward(a))})):e=!1),g(u);var j=x;n=!1}}}}))};return"LineString"===t.type?y(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach((function(a){return y(a)})):"Polygon"===t.type?(t.coordinates.forEach((function(a){return y(a)})),l.length&&l.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach((function(a){a.forEach((function(a){return y(a)}))})),l.length&&l.push(["Z"])),l},a.registry=t,a}()})),t(a,"Maps/MapView.js",[a["Maps/MapViewOptionsDefault.js"],a["Maps/MapViewInsetsOptionsDefault.js"],a["Extensions/GeoJSON.js"],a["Core/Chart/MapChart.js"],a["Maps/MapUtilities.js"],a["Maps/Projection.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r,g){var u=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),n=this&&this.__spreadArrays||function(){for(var a=0,b=0,t=arguments.length;b<t;b++)a+=arguments[b].length;a=Array(a);var e=0;for(b=0;b<t;b++)for(var o=arguments[b],r=0,n=o.length;r<n;r++,e++)a[e]=o[r];return a},l=q.topo2geo,h=e.maps,c=o.boundsFromPath,d=o.pointInPolygon,b=g.addEvent,f=g.clamp,y=g.fireEvent,m=g.isArray,p=g.isNumber,v=g.isObject,x=g.isString,M=g.merge,j=g.pick,C=g.relativeLength,w=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},P=function(){function t(e,o){var l,g=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof S)){var h=n([e.options.chart.map],(e.options.series||[]).map((function(a){return a.mapData}))).map((function(a){return g.getGeoMap(a)})),c=[];h.forEach((function(a){a&&(l||(l=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,c.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))}));var d=c.length&&t.compositeBounds(c);if(d){var f=d.x1,y=d.y1,m=d.x2;d=d.y2,f=180<m-f&&90<d-y?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[y,d],rotation:[-(f+m)/2]}}this.geoMap=h[0]}this.userOptions=o||{},h=M(a,{projection:f},l,o),d=l&&l.insets,o=o&&o.insets,d&&o&&(h.insets=t.mergeInsets(d,o)),this.chart=e,this.center=h.center,this.options=h,this.projection=new r(h.projection),this.playingField=e.plotBox,this.zoom=h.zoom||0,this.createInsets(),this.eventsToUnbind.push(b(e,"afterSetChartSize",(function(){g.playingField=g.getField(),void 0!==g.minZoom&&g.minZoom!==g.zoom||(g.fitToBounds(void 0,void 0,!1),p(g.userOptions.zoom)&&(g.zoom=g.userOptions.zoom),g.userOptions.center&&M(!0,g.center,g.userOptions.center))}))),this.setUpEvents()}return t.mergeInsets=function(a,b){var t=function(a){var b={};return a.forEach((function(a,t){b[a&&a.id||"i"+t]=a})),b},e=M(t(a),t(b));return Object.keys(e).map((function(a){return e[a]}))},t.prototype.createInsets=function(){var a=this,b=this.options,t=b.insets;t&&t.forEach((function(t){t=new S(a,M(b.insetOptions,t)),a.insets.push(t)}))},t.prototype.fitToBounds=function(a,b,t,e){void 0===t&&(t=!0);var o=a||this.getProjectedBounds();if(o){var r=j(b,a?0:this.options.padding);b=this.getField(!1),r=m(r)?r:[r,r,r,r],this.padding=[C(r[0],b.height),C(r[1],b.width),C(r[2],b.height),C(r[3],b.width)],this.playingField=this.getField(),b=w(o,this.playingField),a||(this.minZoom=b),a=this.projection.inverse([(o.x2+o.x1)/2,(o.y2+o.y1)/2]),this.setView(a,b,t,e)}},t.prototype.getField=function(a){return void 0===a&&(a=!0),{x:(a=a?this.padding:[0,0,0,0])[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}},t.prototype.getGeoMap=function(a){if(x(a))return h[a];if(v(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return l(a)}},t.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var t=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+t[1]+t[3],height:(a.y2-a.y1)*b+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}}},t.prototype.getProjectedBounds=function(){var a=this.chart.series.reduce((function(a,b){var t=b.getProjectedBounds&&b.getProjectedBounds();return t&&!1!==b.options.affectsMapView&&a.push(t),a}),[]);return this.projection.bounds||t.compositeBounds(a)},t.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},t.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,t=a.y,e=a.width;a=a.height;var o=this.projection.forward(this.center),r=this.projection.hasCoordinates?-1:1,n=this.getScale();return{scaleX:n,scaleY:r*=n,translateX:b+e/2-o[0]*n,translateY:t+a/2-o[1]*r}},t.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)},t.prototype.lonLatToProjectedUnits=function(a){var b=this.chart,t=b.mapTransforms;if(t){for(var e in t)if(Object.hasOwnProperty.call(t,e)&&t[e].hitZone){var o=b.transformFromLatLon(a,t[e]);if(o&&d(o,t[e].hitZone.coordinates[0]))return o}return b.transformFromLatLon(a,t.default)}for(t=0,e=this.insets;t<e.length;t++)if((b=e[t]).options.geoBounds&&d({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);if(!(a=this.projection.forward([a.lon,a.lat])).outside)return{x:a[0],y:a[1]}},t.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,t=b.mapTransforms;if(t){for(var e in t)if(Object.hasOwnProperty.call(t,e)&&t[e].hitZone&&d(a,t[e].hitZone.coordinates[0]))return b.transformToLatLon(a,t[e]);return b.transformToLatLon(a,t.default)}t=this.projectedUnitsToPixels(a),e=0;for(var o=this.insets;e<o.length;e++)if((b=o[e]).hitZone&&d(t,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(t),{lon:(a=b.projection.inverse([a.x,a.y]))[0],lat:a[1]};return{lon:(a=this.projection.inverse([a.x,a.y]))[0],lat:a[1]}},t.prototype.redraw=function(a){this.chart.series.forEach((function(a){a.useMapGeometry&&(a.isDirty=!0)})),this.chart.redraw(a)},t.prototype.setView=function(a,b,t,e){void 0===t&&(t=!0),a&&(this.center=a),"number"==typeof b&&("number"==typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"==typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),this.zoom=b);var o=this.getProjectedBounds();if(o){a=this.projection.forward(this.center);var r=this.playingField;b=r.x;var n=r.y,g=r.width;r=r.height;var l=this.getScale(),h=this.projectedUnitsToPixels({x:o.x1,y:o.y1}),c=this.projectedUnitsToPixels({x:o.x2,y:o.y2});o=[(o.x1+o.x2)/2,(o.y1+o.y2)/2];var p=h.x,d=c.y;c=c.x,h=h.y,c-p<g?a[0]=o[0]:p<b&&c<b+g?a[0]+=Math.max(p-b,c-g-b)/l:c>b+g&&p>b&&(a[0]+=Math.min(c-g-b,p-b)/l),h-d<r?a[1]=o[1]:d<n&&h<n+r?a[1]-=Math.max(d-n,h-r-n)/l:h>n+r&&d>n&&(a[1]-=Math.min(h-r-n,d-n)/l),this.center=this.projection.inverse(a),this.insets.forEach((function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())})),this.render()}y(this,"afterSetView"),t&&this.redraw(e)},t.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),t=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(t[0]-a.x),y:e.y+e.height/2+b*(t[1]-a.y)}},t.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))},t.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var t=this.getScale(),e=this.projection.forward(this.center),o=this.playingField;return{x:e[0]+(b-(o.x+o.width/2))/t,y:e[1]-(a-(o.y+o.height/2))/t}},t.prototype.setUpEvents=function(){var t,e,o,a=this,r=this.chart,n=function(b){var n=r.pointer.pinchDown,g=a.projection,l=r.mouseDownX,h=r.mouseDownY;if(1===n.length&&(l=n[0].chartX,h=n[0].chartY),"number"==typeof l&&"number"==typeof h){var c=l+","+h,p=b.originalEvent;n=p.chartX,p=p.chartY,c!==e&&(e=c,t=a.projection.forward(a.center),o=(a.projection.options.rotation||[0,0]).slice()),c=(c=g.def&&g.def.bounds)&&w(c,a.playingField)||-1/0,"Orthographic"===g.options.name&&(a.minZoom||1/0)<1.1*c?(g=440/(a.getScale()*Math.min(r.plotWidth,r.plotHeight)),o&&(l=(l-n)*g-o[0],h=f(-o[1]-(h-p)*g,-80,80),n=a.zoom,a.update({projection:{rotation:[-l,-h]}},!1),a.zoom=n,r.redraw(!1))):(g=a.getScale(),h=a.projection.inverse([t[0]+(l-n)/g,t[1]-(h-p)/g]),a.setView(h,void 0,!0,!1)),b.preventDefault()}};b(r,"pan",n),b(r,"touchpan",n),b(r,"selection",(function(b){if(b.resetSelection)a.zoomBy();else{var t=b.x-r.plotLeft,e=b.y-r.plotTop,o=a.pixelsToProjectedUnits({x:t,y:e}),n=o.y;o=o.x,t=a.pixelsToProjectedUnits({x:t+b.width,y:e+b.height}),a.fitToBounds({x1:o,y1:n,x2:t.x,y2:t.y},void 0,!0,!b.originalEvent.touches&&void 0),/^touch/.test(b.originalEvent.type)||r.showResetZoom(),b.preventDefault()}}))},t.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},t.prototype.update=function(a,b,t){void 0===b&&(b=!0);var e=a.projection;e=e&&r.toString(e)!==r.toString(this.options.projection);var o=!1;M(!0,this.userOptions,a),M(!0,this.options,a),"insets"in a&&(this.insets.forEach((function(a){return a.destroy()})),this.insets.length=0,o=!0),(e||o)&&(this.chart.series.forEach((function(a){var b=a.transformGroups;if(a.clearBounds&&a.clearBounds(),a.isDirty=!0,a.isDirtyData=!0,o&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()})),e&&(this.projection=new r(this.options.projection)),o&&this.createInsets(),a.center||p(a.zoom)||this.fitToBounds(void 0,void 0,!1)),(a.center||p(a.zoom))&&this.setView(this.options.center,a.zoom,!1),b&&this.chart.redraw(t)},t.prototype.zoomBy=function(a,b,t,e){var o=this.chart,r=this.projection.forward(this.center),n=(b=b?this.projection.forward(b):[])[0],g=b[1];"number"==typeof a?(a=this.zoom+a,b=void 0,t&&(n=t[0],g=t[1],t=this.getScale(),n=n-o.plotLeft-o.plotWidth/2,o=g-o.plotTop-o.plotHeight/2,n=r[0]+n/t,g=r[1]+o/t),"number"==typeof n&&"number"==typeof g&&(t=1-Math.pow(2,this.zoom)/Math.pow(2,a),n=r[0]-n,o=r[1]-g,r[0]-=n*t,r[1]+=o*t,b=this.projection.inverse(r)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)},t.compositeBounds=function(a){if(a.length)return a.slice(1).reduce((function(a,b){return a.x1=Math.min(a.x1,b.x1),a.y1=Math.min(a.y1,b.y1),a.x2=Math.max(a.x2,b.x2),a.y2=Math.max(a.y2,b.y2),a}),M(a[0]))},t}(),S=function(a){function b(b,e){var o=a.call(this,b.chart,e)||this;return o.id=e.id,o.mapView=b,o.options=M(t,e),o.allBounds=[],o.options.geoBounds&&(b=b.projection.path(o.options.geoBounds),o.geoBoundsProjectedBox=c(b),o.geoBoundsProjectedPolygon=b.map((function(a){return[a[1]||0,a[2]||0]}))),o}return u(b,a),b.prototype.getField=function(b){void 0===b&&(b=!0);var t=this.hitZone;if(t){var e=b?this.padding:[0,0,0,0],o=(t=t.coordinates[0]).map((function(a){return a[0]})),r=t.map((function(a){return a[1]}));t=Math.min.apply(0,o)+e[3],o=Math.max.apply(0,o)-e[1];var n=Math.min.apply(0,r)+e[0];if(e=Math.max.apply(0,r)-e[2],p(t)&&p(n))return{x:t,y:n,width:o-t,height:e-n}}return a.prototype.getField.call(this,b)},b.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,t=this.options,e=(t.field||{}).coordinates;if(e){if(e=e[0],"percent"===t.units){var o="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||M(a.plotBox,{x:0,y:0});e=e.map((function(a){return[C(a[0]+"%",o.width,o.x),C(a[1]+"%",o.height,o.y)]}))}return{type:"Polygon",coordinates:[e]}}},b.prototype.getProjectedBounds=function(){return P.compositeBounds(this.allBounds)},b.prototype.isInside=function(a){var b=this.geoBoundsProjectedBox,t=this.geoBoundsProjectedPolygon;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&t&&d(a,t))},b.prototype.render=function(){var a=this.chart,b=this.mapView,t=this.options,e=t.borderPath||t.field;if(e&&b.group){var o=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),o=!1),a.styledMode||this.border.attr({stroke:t.borderColor,"stroke-width":t.borderWidth});var r=Math.round(this.border.strokeWidth())%2/2,n="mapBoundingBox"===t.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce((function(b,e){return e.reduce((function(b,e,o){var g=e[0];return e=e[1],"percent"===t.units&&(g=a.plotLeft+C(g+"%",n.width,n.x),e=a.plotTop+C(e+"%",n.height,n.y)),g=Math.floor(g)+r,e=Math.floor(e)+r,b.push(0===o?["M",g,e]:["L",g,e]),b}),b)}),[]),this.border[o?"animate":"attr"]({d:b})}},b.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((function(a){return a()}))},b.prototype.setUpEvents=function(){},b}(P);return b(e,"afterInit",(function(){this.mapView=new P(this,this.options.mapView)})),P})),t(a,"Series/Map/MapSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Series/ColorMapMixin.js"],a["Series/CenteredUtilities.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Chart/MapChart.js"],a["Series/Map/MapPoint.js"],a["Maps/MapView.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r,g,u,n,l,h,c){var d=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),b=a.animObject;a=e.noop;var f=r.splitPath,y=(r=l.seriesTypes).column,m=r.scatter;r=c.extend;var p=c.find,v=c.fireEvent,x=c.getNestedProperty,M=c.isArray,j=c.isNumber,C=c.isObject,w=c.merge,P=c.objectEach,S=c.pick,L=c.splat;return c=function(a){function t(){var b=null!==a&&a.apply(this,arguments)||this;return b.chart=void 0,b.data=void 0,b.group=void 0,b.joinBy=void 0,b.options=void 0,b.points=void 0,b.processedData=[],b}return d(t,a),t.prototype.animate=function(a){var t=this.chart,e=this.group,o=b(this.options.animation);t.renderer.isSVG&&(a?e.attr({translateX:t.plotLeft+t.plotWidth/2,translateY:t.plotTop+t.plotHeight/2,scaleX:.001,scaleY:.001}):e.animate({translateX:t.plotLeft,translateY:t.plotTop,scaleX:1,scaleY:1},o))},t.prototype.animateDrilldown=function(a){var b=this.chart,t=this.group;b.renderer.isSVG&&(a?t.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(t.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))},t.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},t.prototype.animateDrillupTo=function(a){y.prototype.animateDrillupTo.call(this,a)},t.prototype.clearBounds=function(){this.points.forEach((function(a){delete a.bounds,delete a.insetIndex,delete a.projectedPath})),delete this.bounds},t.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},t.prototype.drawMapDataLabels=function(){n.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},t.prototype.drawPoints=function(){var a=this,b=this.chart,t=this.group,e=this.transformGroups,o=void 0===e?[]:e,r=b.mapView,n=b.renderer;r&&(this.transformGroups=o,o[0]||(o[0]=n.g().add(t)),r.insets.forEach((function(a,b){o[b+1]||o.push(n.g().add(t))})),this.doFullTranslate()&&(this.points.forEach((function(t){var e=t.graphic,r=t.shapeArgs;t.group=o["number"==typeof t.insetIndex?t.insetIndex+1:0],e&&e.parentGroup!==t.group&&e.add(t.group),r&&b.hasRendered&&!b.styledMode&&(r.fill=a.pointAttribs(t,t.state).fill)})),y.prototype.drawPoints.apply(this),this.points.forEach((function(t){if(t.graphic){var e="";t.name&&(e+="highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&(e+=" highcharts-key-"+t.properties["hc-key"].toString().toLowerCase()),e&&t.graphic.addClass(e),b.styledMode&&t.graphic.css(a.pointAttribs(t,t.selected?"select":void 0))}}))),o.forEach((function(t,e){var o=(0===e?r:r.insets[e-1]).getSVGTransform(),g=S(a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"],1),l=o.scaleX,h=0<o.scaleY?1:-1;if(n.globalAnimation&&b.hasRendered){var c=Number(t.attr("translateX")),p=Number(t.attr("translateY")),d=Number(t.attr("scaleX"));t.attr({animator:0}).animate({animator:1},{step:function(a,b){a=d+(l-d)*b.pos,t.attr({translateX:c+(o.translateX-c)*b.pos,translateY:p+(o.translateY-p)*b.pos,scaleX:a,scaleY:a*h}),t.element.setAttribute("stroke-width",g/a)}})}else t.attr(o),t.element.setAttribute("stroke-width",g/l)})),this.drawMapDataLabels())},t.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,t=a.projection,e=[];(this.points||[]).forEach((function(a){if(a.path||a.geometry){if("string"==typeof a.path?a.path=f(a.path):M(a.path)&&"M"===a.path[0]&&(a.path=h.prototype.pathToSegments(a.path)),!a.bounds){var o=a.getProjectedBounds(t);if(o){a.labelrank=S(a.labelrank,(o.x2-o.x1)*(o.y2-o.y1));var g=o.midX,r=o.midY;if(b&&j(g)&&j(r)){var n=p(b,(function(a){return a.isInside({x:g,y:r})}));n&&(delete a.projectedPath,(o=a.getProjectedBounds(n.projection))&&n.allBounds.push(o),a.insetIndex=b.indexOf(n))}a.bounds=o}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}})),this.bounds=u.compositeBounds(e)}return this.bounds},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.pointAttribs=function(a,b){var t=a.series.chart,e=t.mapView;return b=t.styledMode?this.colorAttribs(a):y.prototype.pointAttribs.call(this,a,b),(a=a.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&e&&(a/=e.getScale()),b.dashstyle&&e&&this.options.borderWidth&&(a=this.options.borderWidth/e.getScale()),b["stroke-width"]=S(a,"inherit"),b},t.prototype.setData=function(){a.prototype.setData.apply(this,arguments),this.processData(),this.generatePoints()},t.prototype.processData=function(){var a=this.options,b=a.data,t=this.chart.options.chart,o=this.joinBy,r=a.keys||this.pointArrayMap,n=[],l={},p=this.chart.mapView;p=p&&(C(a.mapData,!0)?p.getGeoMap(a.mapData):p.geoMap);var h=this.chart.mapTransforms;if((this.chart.mapTransforms=h=t.mapTransforms||p&&p["hc-transform"]||h)&&P(h,(function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))})),M(a.mapData))var c=a.mapData;else p&&"FeatureCollection"===p.type&&(this.mapTitle=p.title,c=e.geojson(p,this.type,this));var d=this.processedData=[];if(b&&b.forEach((function(t,e){var n=0;if(j(t))d[e]={value:t};else if(M(t)){d[e]={},!a.keys&&t.length>r.length&&"string"==typeof t[0]&&(d[e]["hc-key"]=t[0],++n);for(var p=0;p<r.length;++p,++n)r[p]&&void 0!==t[n]&&(0<r[p].indexOf(".")?g.prototype.setNestedProperty(d[e],t[n],r[p]):d[e][r[p]]=t[n])}else d[e]=b[e];o&&"_i"===o[0]&&(d[e]._i=e)})),c){for(this.mapData=c,this.mapMap={},h=0;h<c.length;h++)p=(t=c[h]).properties,t._i=h,o[0]&&p&&p[o[0]]&&(t[o[0]]=p[o[0]]),l[t[o[0]]]=t;if(this.mapMap=l,o[1]){var q=o[1];d.forEach((function(a){a=x(q,a),l[a]&&n.push(l[a])}))}if(a.allAreas){if(o[1]){var f=o[1];d.forEach((function(a){n.push(x(f,a))}))}var u="|"+n.map((function(a){return a&&a[o[0]]})).join("|")+"|";c.forEach((function(a){o[0]&&-1!==u.indexOf("|"+a[o[0]]+"|")||d.push(w(a,{value:null}))}))}}this.processedXData=Array(d.length)},t.prototype.setOptions=function(a){var b=(a=n.prototype.setOptions.call(this,a)).joinBy;return null===b&&(b="_i"),(b=this.joinBy=L(b))[1]||(b[1]=b[0]),a},t.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,t=b&&b.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),b){var e=b.getSVGTransform();this.points.forEach((function(o){var r=j(o.insetIndex)&&b.insets[o.insetIndex].getSVGTransform()||e;r&&o.bounds&&j(o.bounds.midX)&&j(o.bounds.midY)&&(o.plotX=o.bounds.midX*r.scaleX+r.translateX,o.plotY=o.bounds.midY*r.scaleY+r.translateY),a&&(o.shapeType="path",o.shapeArgs={d:g.getProjectedPath(o,t)})}))}v(this,"afterTranslate")},t.defaultOptions=w(m.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return j(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),t}(m),r(c.prototype,{type:"map",axisTypes:t.SeriesMixin.axisTypes,colorAttribs:t.SeriesMixin.colorAttribs,colorKey:t.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:a,drawGraph:a,drawLegendSymbol:o.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:t.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:t.SeriesMixin.parallelArrays,pointArrayMap:t.SeriesMixin.pointArrayMap,pointClass:g,preserveAspectRatio:!0,searchPoint:a,trackerGroups:t.SeriesMixin.trackerGroups,useMapGeometry:!0}),l.registerSeriesType("map",c),c})),t(a,"Series/MapLine/MapLineSeries.js",[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q){var e=this&&this.__extends||function(){var a=function(t,g){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])})(t,g)};return function(t,g){function e(){this.constructor=t}a(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),o=t.series,r=q.extend,g=q.merge;return q=function(t){function o(){var a=null!==t&&t.apply(this,arguments)||this;return a.data=void 0,a.options=void 0,a.points=void 0,a}return e(o,t),o.prototype.pointAttribs=function(t,g){return(t=a.prototype.pointAttribs.call(this,t,g)).fill=this.options.fillColor,t},o.defaultOptions=g(a.defaultOptions,{lineWidth:1,fillColor:"none"}),o}(a),r(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:o.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),t.registerSeriesType("mapline",q),q})),t(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t){var q=this&&this.__extends||function(){var a=function(t,g){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var g in t)t.hasOwnProperty(g)&&(a[g]=t[g])},a(t,g)};return function(t,g){function e(){this.constructor=t}a(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),e=t.isNumber;return function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return q(t,a),t.prototype.isValid=function(){return!!(this.options.geometry||e(this.x)&&e(this.y)||e(this.options.lon)&&e(this.options.lat))},t}(a.seriesTypes.scatter.prototype.pointClass)})),t(a,"Series/MapPoint/MapPointSeries.js",[a["Core/Globals.js"],a["Series/MapPoint/MapPointPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q,e){var o=this&&this.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var b in t)t.hasOwnProperty(b)&&(a[b]=t[b])},a(t,e)};return function(t,e){function b(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();a=a.noop;var r=q.seriesTypes.scatter,g=e.extend,u=e.fireEvent,n=e.isNumber,l=e.merge;return e=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return o(t,a),t.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},t.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var t=a.geometry,e=a.lon;if(a=a.lat,t=t&&"Point"===t.type&&t.coordinates,n(e)&&n(a)&&(t=[e,a]),t)return b.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}},t.prototype.translate=function(){var a=this,b=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),b){var t=b.projection.hasCoordinates;this.points.forEach((function(e){var o=e.x;o=void 0===o?void 0:o;var g=e.y;g=void 0===g?void 0:g;var r=a.projectPoint(e.options);r?(o=r.x,g=r.y):e.bounds&&(o=e.bounds.midX,g=e.bounds.midY),n(o)&&n(g)?(o=b.projectedUnitsToPixels({x:o,y:g}),e.plotX=o.x,e.plotY=t?o.y:a.chart.plotHeight-o.y):e.y=e.plotX=e.plotY=void 0,e.isInside=a.isPointInside(e),e.zone=a.zones.length?e.getZone():void 0}))}u(this,"afterTranslate")},t.defaultOptions=l(r.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),t}(r),g(e.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:t,searchPoint:a,useMapGeometry:!0}),q.registerSeriesType("mappoint",e),e})),t(a,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),t(a,"Series/Bubble/BubbleLegendItem.js",[a["Core/Color/Color.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],(function(a,t,q,e){var o=a.parse,r=q.noop,g=e.arrayMax,u=e.arrayMin,n=e.isNumber,l=e.merge,h=e.pick,c=e.stableSort;return function(){function a(a,t){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=r,this.init(a,t)}return a.prototype.init=function(a,t){this.options=a,this.visible=!0,this.chart=t.chart,this.legend=t},a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)},a.prototype.drawLegendSymbol=function(a){var b=this.chart,t=this.options,e=h(a.options.itemDistance,20),g=t.ranges,o=t.connectorDistance;this.fontMetrics=b.renderer.fontMetrics(t.labels.style.fontSize),g&&g.length&&n(g[0].value)?(c(g,(function(a,b){return b.value-a.value})),this.ranges=g,this.setOptions(),this.render(),a=this.getMaxLabelSize(),b=2*(g=this.ranges[0].radius),o=0<(o=o-g+a.width)?o:0,this.maxLabel=a,this.movementX="left"===t.labels.align?o:0,this.legendItemWidth=b+o+e,this.legendItemHeight=b+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0},a.prototype.setOptions=function(){var a=this.ranges,t=this.options,e=this.chart.series[t.seriesIndex],r=this.legend.baseline,g={zIndex:t.zIndex,"stroke-width":t.borderWidth},n={zIndex:t.zIndex,"stroke-width":t.connectorWidth},c={align:this.legend.options.rtl||"left"===t.labels.align?"right":"left",zIndex:t.zIndex},d=e.options.marker.fillOpacity,f=this.chart.styledMode;a.forEach((function(b,p){f||(g.stroke=h(b.borderColor,t.borderColor,e.color),g.fill=h(b.color,t.color,1!==d?o(e.color).setOpacity(d).get("rgba"):e.color),n.stroke=h(b.connectorColor,t.connectorColor,e.color)),a[p].radius=this.getRangeRadius(b.value),a[p]=l(a[p],{center:a[0].radius-a[p].radius+r}),f||l(!0,a[p],{bubbleAttribs:l(g),connectorAttribs:l(n),labelAttribs:c})}),this)},a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)},a.prototype.render=function(){var a=this.chart.renderer,t=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=a.g("bubble-legend"),this.legendItem=a.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach((function(a){a.value>=t&&this.renderRange(a)}),this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},a.prototype.renderRange=function(a){var b=this.options,t=b.labels,e=this.chart,o=e.series[b.seriesIndex],g=e.renderer,r=this.symbols;e=r.labels;var n=a.center,l=Math.abs(a.radius),h=b.connectorDistance||0,c=t.align,d=b.connectorWidth,f=this.ranges[0].radius||0,q=n-l-b.borderWidth/2+d/2,y=this.fontMetrics;y=y.f/2-(y.h-y.f)/2;var u=g.styledMode;h=this.legend.options.rtl||"left"===c?-h:h,"center"===c&&(h=0,b.connectorDistance=0,a.labelAttribs.align="center"),c=q+b.labels.y;var m=f+h+b.labels.x;r.bubbleItems.push(g.circle(f,n+((q%1?1:.5)-(d%2?0:.5)),l).attr(u?{}:a.bubbleAttribs).addClass((u?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendSymbol)),r.connectors.push(g.path(g.crispLine([["M",f,q],["L",f+h,q]],b.connectorWidth)).attr(u?{}:a.connectorAttribs).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol)),a=g.text(this.formatLabel(a),m,c+y).attr(u?{}:a.labelAttribs).css(u?{}:t.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol),e.push(a),a.placed=!0,a.alignAttr={x:m,y:c+y}},a.prototype.getMaxLabelSize=function(){var a,t;return this.symbols.labels.forEach((function(b){t=b.getBBox(!0),a=a?t.width>a.width?t:a:t})),a||{}},a.prototype.formatLabel=function(a){var b=this.options,e=b.labels.formatter;b=b.labels.format;var o=this.chart.numberFormatter;return b?t.format(b,a):e?e.call(a):o(a.value,1)},a.prototype.hideOverlappingLabels=function(){var a=this.chart,t=this.symbols;!this.options.labels.allowOverlap&&t&&(a.hideOverlappingLabels(t.labels),t.labels.forEach((function(a,b){a.newOpacity?a.newOpacity!==a.oldOpacity&&t.connectors[b].show():t.connectors[b].hide()})))},a.prototype.getRanges=function(){var t,a=this.legend.bubbleLegend,e=a.options.ranges,o=Number.MAX_VALUE,r=-Number.MAX_VALUE;a.chart.series.forEach((function(a){a.isBubble&&!a.ignoreSeries&&(t=a.zData.filter(n)).length&&(o=h(a.options.zMin,Math.min(o,Math.max(u(t),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),r=h(a.options.zMax,Math.max(r,g(t))))}));var c=o===r?[{value:r}]:[{value:o},{value:(o+r)/2},{value:r,autoRanges:!0}];return e.length&&e[0].radius&&c.reverse(),c.forEach((function(a,b){e&&e[b]&&(c[b]=l(e[b],a))})),c},a.prototype.predictBubbleSizes=function(){var a=this.chart,t=this.fontMetrics,e=a.legend.options,o=e.floating,g=(e="horizontal"===e.layout)?a.legend.lastLineHeight:0,r=a.plotSizeX,n=a.plotSizeY,l=a.series[this.options.seriesIndex],h=l.getPxExtremes();a=Math.ceil(h.minPxSize),h=Math.ceil(h.maxPxSize);var c=Math.min(n,r);return l=l.options.maxSize,o||!/%$/.test(l)?t=h:(l=parseFloat(l),t=(c+g-t.h/2)*l/100/(l/100+1),(e&&n-t>=r||!e&&r-t>=n)&&(t=h)),[a,Math.ceil(t)]},a.prototype.updateRanges=function(a,t){var b=this.legend.options.bubbleLegend;b.minSize=a,b.maxSize=t,b.ranges=this.getRanges()},a.prototype.correctSizes=function(){var a=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,t.maxPxSize),a.render())},a}()})),t(a,"Series/Bubble/BubbleLegendComposition.js",[a["Series/Bubble/BubbleLegendDefaults.js"],a["Series/Bubble/BubbleLegendItem.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],(function(a,t,q,e){var o,r=q.setOptions,n=e.addEvent,g=e.objectEach,u=e.wrap;return function(e){function o(a,b,t){var e=this.legend,o=0<=l(this);if(e&&e.options.enabled&&e.bubbleLegend&&e.options.bubbleLegend.autoRanges&&o){var r=e.bubbleLegend.options;o=e.bubbleLegend.predictBubbleSizes(),e.bubbleLegend.updateRanges(o[0],o[1]),r.placed||(e.group.placed=!1,e.allItems.forEach((function(a){a.legendGroup.translateY=null}))),e.render(),this.getMargins(),this.axes.forEach((function(a){a.visible&&a.render(),r.placed||(a.setScale(),a.updateNames(),g(a.ticks,(function(a){a.isNew=!0,a.isNewLabel=!0})))})),r.placed=!0,this.getMargins(),a.call(this,b,t),e.bubbleLegend.correctSizes(),q(e,h(e))}else a.call(this,b,t),e&&e.options.enabled&&e.bubbleLegend&&(e.render(),q(e,h(e)))}function l(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function h(a){var t,b=[],e=(a=a.allItems).length,o=0;for(t=0;t<e;t++)if(a[t].legendItemHeight&&(a[t].itemHeight=a[t].legendItemHeight),a[t]===a[e-1]||a[t+1]&&a[t]._legendItemPos[1]!==a[t+1]._legendItemPos[1]){b.push({height:0});for(var g=b[b.length-1];o<=t;o++)a[o].itemHeight>g.height&&(g.height=a[o].itemHeight);g.step=t}return b}function b(a){var b=this.bubbleLegend,e=this.options,o=e.bubbleLegend,g=l(this.chart);b&&b.ranges&&b.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(b)),0<=g&&e.enabled&&o.enabled&&(o.seriesIndex=g,this.bubbleLegend=new t(o,this),this.bubbleLegend.addToLegend(a.allItems))}function c(){var a=this.chart,b=this.visible,t=this.chart.legend;t&&t.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=l(a),t.bubbleLegend.visible!==a&&(t.update({bubbleLegend:{enabled:a}}),t.bubbleLegend.visible=a),this.visible=b)}function q(a,b){var t,e,g,o=a.options.rtl,r=0;a.allItems.forEach((function(a,n){t=a.legendGroup.translateX,e=a._legendItemPos[1],((g=a.movementX)||o&&a.ranges)&&(g=o?t-a.options.maxSize/2:t+g,a.legendGroup.attr({translateX:g})),n>b[r].step&&r++,a.legendGroup.attr({translateY:Math.round(e+b[r].height/2)}),a._legendItemPos[1]=e+b[r].height/2}))}var d=[];e.compose=function(t,e,g){-1===d.indexOf(t)&&(d.push(t),r({legend:{bubbleLegend:a}}),u(t.prototype,"drawChartBox",o)),-1===d.indexOf(e)&&(d.push(e),n(e,"afterGetAllItems",b)),-1===d.indexOf(g)&&(d.push(g),n(g,"legendItemClick",c))}}(o||(o={})),o})),t(a,"Series/Bubble/BubblePoint.js",[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q){var e=this&&this.__extends||function(){var a=function(t,g){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var g in t)t.hasOwnProperty(g)&&(a[g]=t[g])},a(t,g)};return function(t,g){function e(){this.constructor=t}a(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}();return q=q.extend,t=function(t){function o(){var a=null!==t&&t.apply(this,arguments)||this;return a.options=void 0,a.series=void 0,a}return e(o,t),o.prototype.haloPath=function(t){return a.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},o}(t.seriesTypes.scatter.prototype.pointClass),q(t.prototype,{ttBelow:!1}),t})),t(a,"Series/Bubble/BubbleSeries.js",[a["Core/Axis/Axis.js"],a["Series/Bubble/BubbleLegendComposition.js"],a["Series/Bubble/BubblePoint.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r,g,u){var n=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),l=e.parse;e=o.noop;var h=g.seriesTypes;o=h.column;var c=h.scatter;h=u.addEvent;var d=u.arrayMax,b=u.arrayMin,f=u.clamp,y=u.extend,m=u.isNumber,p=u.merge,v=u.pick;return u=function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;return b.data=void 0,b.maxPxSize=void 0,b.minPxSize=void 0,b.options=void 0,b.points=void 0,b.radii=void 0,b.yData=void 0,b.zData=void 0,b}return n(e,a),e.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach((function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))}),this)},e.prototype.getRadii=function(){var a=this,b=this.zData,t=this.yData,e=[],o=this.chart.bubbleZExtremes,r=this.getPxExtremes(),g=r.minPxSize,n=r.maxPxSize;if(!o){var l,h=Number.MAX_VALUE,c=-Number.MAX_VALUE;this.chart.series.forEach((function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=b.getZExtremes())&&(h=Math.min(h||b.zMin,b.zMin),c=Math.max(c||b.zMax,b.zMax),l=!0)})),l?(o={zMin:h,zMax:c},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}var p=0;for(r=b.length;p<r;p++){var d=b[p];e.push(this.getRadius(o.zMin,o.zMax,g,n,d,t[p]))}this.radii=e},e.prototype.getRadius=function(a,b,t,e,o,r){var g=this.options,n="width"!==g.sizeBy,l=g.zThreshold,h=b-a,c=.5;if(null===r||null===o)return null;if(m(o)){if(g.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(b-l,Math.abs(a-l)),a=0),o<a)return t/2-1;0<h&&(c=(o-a)/h)}return n&&0<=c&&(c=Math.sqrt(c)),Math.ceil(t+c*(e-t))/2},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.pointAttribs=function(a,b){var t=this.options.marker.fillOpacity;return a=r.prototype.pointAttribs.call(this,a,b),1!==t&&(a.fill=l(a.fill).setOpacity(t).get("rgba")),a},e.prototype.translate=function(){a.prototype.translate.call(this),this.getRadii(),this.translateBubble()},e.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,t=this.getPxExtremes().minPxSize,e=a.length;e--;){var o=a[e],r=b?b[e]:0;m(r)&&r>=t/2?(o.marker=y(o.marker,{radius:r,width:2*r,height:2*r}),o.dlBox={x:o.plotX-r,y:o.plotY-r,width:2*r,height:2*r}):o.shapeArgs=o.plotY=o.dlBox=void 0}},e.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"==typeof b){var t=/%$/.test(b);b=parseInt(b,10)}return t?a*b/100:b},t=b(v(this.options.minSize,8));return{minPxSize:t,maxPxSize:b=Math.max(b(v(this.options.maxSize,"20%")),t)}},e.prototype.getZExtremes=function(){var a=this.options,t=(this.zData||[]).filter(m);if(t.length){var e=v(a.zMin,f(b(t),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(a=v(a.zMax,d(t)),m(e)&&m(a))return{zMin:e,zMax:a}}},e.compose=t.compose,e.defaultOptions=p(c.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return m(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),e}(c),y(u.prototype,{alignDataLabel:o.prototype.alignDataLabel,applyZones:e,bubblePadding:!0,buildKDTree:e,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),h(u,"updatedData",(function(a){delete a.target.chart.bubbleZExtremes})),a.prototype.beforePadding=function(){var p,a=this,b=this.len,t=this.chart,e=0,o=b,g=this.isXAxis,r=g?"xData":"yData",n=this.min,l=this.max-n,h=b/l;this.series.forEach((function(b){if(b.bubblePadding&&(b.visible||!t.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var c=b[r];if(g&&b.getRadii(0,0,b),0<l)for(var d=c.length;d--;)if(m(c[d])&&a.dataMin<=c[d]&&c[d]<=a.max){var f=b.radii&&b.radii[d]||0;e=Math.min((c[d]-n)*h-f,e),o=Math.max((c[d]-n)*h+f,o)}}})),p&&0<l&&!this.logarithmic&&(o-=b,h*=(b+Math.max(0,e)-Math.min(o,b))/b,[["min","userMin",e],["max","userMax",o]].forEach((function(b){void 0===v(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/h)})))},g.registerSeriesType("bubble",u),u})),t(a,"Series/MapBubble/MapBubblePoint.js",[a["Series/Map/MapPoint.js"],a["Core/Series/SeriesRegistry.js"]],(function(a,t){var q=this&&this.__extends||function(){var a=function(t,g){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var g in t)t.hasOwnProperty(g)&&(a[g]=t[g])},a(t,g)};return function(t,g){function e(){this.constructor=t}a(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),e=(t=t.seriesTypes).map;return function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.applyOptions=e.prototype.pointClass.prototype.applyOptions,o.getProjectedBounds=a.prototype.getProjectedBounds,o}return q(o,t),o.prototype.isValid=function(){return"number"==typeof this.z},o}(t.bubble.prototype.pointClass)})),t(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r){var g=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])})(t,e)};return function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),u=e.seriesTypes.mappoint;o=r.extend;var n=r.merge;return r=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.data=void 0,a.options=void 0,a.points=void 0,a}return g(e,t),e.prototype.searchPoint=function(a,t){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},t,a)},e.prototype.translate=function(){u.prototype.translate.call(this),this.getRadii(),this.translateBubble()},e.compose=a.compose,e.defaultOptions=n(a.defaultOptions,{animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),e}(a),o(r.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:q.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:t,processData:q.prototype.processData,projectPoint:u.prototype.projectPoint,setData:q.prototype.setData,setOptions:q.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),e.registerSeriesType("mapbubble",r),r})),t(a,"Series/Heatmap/HeatmapPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],(function(a,t){var q=this&&this.__extends||function(){var a=function(t,g){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])})(t,g)};return function(t,g){function e(){this.constructor=t}a(t,g),t.prototype=null===g?Object.create(g):(e.prototype=g.prototype,new e)}}(),e=t.clamp,o=t.defined,r=t.extend,g=t.pick;return a=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.value=void 0,t.x=void 0,t.y=void 0,t}return q(t,a),t.prototype.applyOptions=function(t,g){return(t=a.prototype.applyOptions.call(this,t,g)).formatPrefix=t.isNull||null===t.value?"null":"point",t},t.prototype.getCellAttributes=function(){var a=this.series,t=a.options,r=(t.colsize||1)/2,n=(t.rowsize||1)/2,b=a.xAxis,l=a.yAxis,q=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var h=g(this.pointPadding,t.pointPadding,0),p={x1:e(Math.round(b.len-(b.translate(this.x-r,!1,!0,!1,!0,-a)||0)),-b.len,2*b.len),x2:e(Math.round(b.len-(b.translate(this.x+r,!1,!0,!1,!0,-a)||0)),-b.len,2*b.len),y1:e(Math.round(l.translate(this.y-n,!1,!0,!1,!0)||0),-l.len,2*l.len),y2:e(Math.round(l.translate(this.y+n,!1,!0,!1,!0)||0),-l.len,2*l.len)};return[["width","x"],["height","y"]].forEach((function(a){var b=a[0],t=(a=a[1])+"1",e=a+"2",r=Math.abs(p[t]-p[e]),g=q&&q.lineWidth||0,n=Math.abs(p[t]+p[e])/2;b=q&&q[b],o(b)&&b<r&&(b=b/2+g/2,p[t]=n-b,p[e]=n+b),h&&("y"===a&&(t=e,e=a+"1"),p[t]+=h,p[e]-=h)})),p},t.prototype.haloPath=function(a){if(!a)return[];var t=this.shapeArgs;return["M",t.x-a,t.y-a,"L",t.x-a,t.y+t.height+a,t.x+t.width+a,t.y+t.height+a,t.x+t.width+a,t.y-a,"Z"]},t.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},t}(a.seriesTypes.scatter.prototype.pointClass),r(a.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),a})),t(a,"Series/Heatmap/HeatmapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapMixin.js"],a["Series/Heatmap/HeatmapPoint.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],(function(a,t,q,e,o,r,g){var u=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),n=o.series,l=o.seriesTypes,h=l.column,c=l.scatter,d=r.prototype.symbols,b=g.extend,f=g.fireEvent,y=g.isNumber,m=g.merge,p=g.pick;return r=function(t){function g(){var a=null!==t&&t.apply(this,arguments)||this;return a.colorAxis=void 0,a.data=void 0,a.options=void 0,a.points=void 0,a.valueMax=NaN,a.valueMin=NaN,a}return u(g,t),g.prototype.drawPoints=function(){var a=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(n.prototype.drawPoints.call(this),this.points.forEach((function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),a.options.borderRadius&&b.graphic.attr({r:a.options.borderRadius}),(b.shapeArgs||{}).r=a.options.borderRadius,(b.shapeArgs||{}).d=b.graphic.pathArray,null===b.value&&b.graphic.addClass("highcharts-null-point"))})))},g.prototype.getExtremes=function(){var a=n.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;return a=a.dataMax,y(b)&&(this.valueMin=b),y(a)&&(this.valueMax=a),n.prototype.getExtremes.call(this)},g.prototype.getValidPoints=function(a,b){return n.prototype.getValidPoints.call(this,a,b,!0)},g.prototype.hasData=function(){return!!this.processedXData.length},g.prototype.init=function(){n.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=p(a.pointRange,a.colsize||1),this.yAxis.axisPointRange=a.rowsize||1,d.ellipse=d.circle},g.prototype.markerAttribs=function(a,b){var t=a.marker||{},e=this.options.marker||{},o=a.shapeArgs||{},r={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=e.states[b]||{},n=t.states&&t.states[b]||{};[["width","x"],["height","y"]].forEach((function(a){r[a[0]]=(n[a[0]]||g[a[0]]||o[a[0]])+(n[a[0]+"Plus"]||g[a[0]+"Plus"]||0),r[a[1]]=o[a[1]]+(o[a[0]]-r[a[0]])/2}))}return b?r:o},g.prototype.pointAttribs=function(b,t){var e=n.prototype.pointAttribs.call(this,b,t),o=this.options||{},r=this.chart.options.plotOptions||{},g=r.series||{},l=r.heatmap||{};return r=b&&b.options.borderColor||o.borderColor||l.borderColor||g.borderColor,g=b&&b.options.borderWidth||o.borderWidth||l.borderWidth||g.borderWidth||e["stroke-width"],e.stroke=b&&b.marker&&b.marker.lineColor||o.marker&&o.marker.lineColor||r||this.color,e["stroke-width"]=g,t&&(t=(b=m(o.states[t],o.marker&&o.marker.states[t],b&&b.options.states&&b.options.states[t]||{})).brightness,e.fill=b.color||a.parse(e.fill).brighten(t||0).get(),e.stroke=b.lineColor),e},g.prototype.setClip=function(a){var b=this.chart;n.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)},g.prototype.translate=function(){var a=this.options,t=a.marker&&a.marker.symbol||"rect",e=d[t]?t:"rect",g=-1!==["circle","square"].indexOf(e);this.generatePoints(),this.points.forEach((function(a){var o=a.getCellAttributes(),r={};r.x=Math.min(o.x1,o.x2),r.y=Math.min(o.y1,o.y2),r.width=Math.max(Math.abs(o.x2-o.x1),0),r.height=Math.max(Math.abs(o.y2-o.y1),0);var n=a.hasImage=0===(a.marker&&a.marker.symbol||t||"").indexOf("url");if(g){var l=Math.abs(r.width-r.height);r.x=Math.min(o.x1,o.x2)+(r.width<r.height?0:l/2),r.y=Math.min(o.y1,o.y2)+(r.width<r.height?l/2:0),r.width=r.height=Math.min(r.width,r.height)}l={plotX:(o.x1+o.x2)/2,plotY:(o.y1+o.y2)/2,clientX:(o.x1+o.x2)/2,shapeType:"path",shapeArgs:m(!0,r,{d:d[e](r.x,r.y,r.width,r.height)})},n&&(a.marker={width:r.width,height:r.height}),b(a,l)})),f(this,"afterTranslate")},g.defaultOptions=m(c.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return y(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),g}(c),b(r.prototype,{alignDataLabel:h.prototype.alignDataLabel,axisTypes:t.SeriesMixin.axisTypes,colorAttribs:t.SeriesMixin.colorAttribs,colorKey:t.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:e.drawRectangle,getExtremesFromAll:!0,getSymbol:n.prototype.getSymbol,parallelArrays:t.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:t.SeriesMixin.trackerGroups}),o.registerSeriesType("heatmap",r),r})),t(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Axis/Color/ColorAxis.js"],a["Series/MapBubble/MapBubbleSeries.js"],a["Core/Chart/MapChart.js"],a["Maps/MapView.js"],a["Maps/Projection.js"]],(function(a,t,q,e,o,r){a.ColorAxis=t,a.MapChart=e,a.mapChart=a.Map=e.mapChart,a.MapView=o,a.maps=e.maps,a.Projection=r,t.compose(a.Chart,a.Fx,a.Legend,a.Series),q.compose(a.Chart,a.Legend,a.Series)}))},t.exports?(a.default=a,t.exports=a):(r=[o(140)],void 0===(n=function(t){return a(t),a.Highcharts=t,a}.apply(e,r))||(t.exports=n))}}]);