(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{556:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return f}));n(86);var r=n(692).a.create({baseURL:"https://www.slgesc.nat.gov.tw/"});function o(){return r.get("WeatherReport")}function c(){return r.get("RealtimeStatus")}function l(t,e,n,o,c){return r.get("HistoryTrend/".concat(t,"/").concat(e,"/").concat(n,"/").concat(o,"/").concat(c))}function d(){return r.get("ConsumptionCompare")}function h(t,e){return r.get("PowerMonthSummary/".concat(t,"/").concat(e))}function f(t){return r.get("PowerYearSummary/".concat(t))}},557:function(t,e,n){"use strict";var r=n(3),o=n(5),c=n(52),l=n(341),d=n(340),h=n(4),f=RangeError,v=String,m=Math.floor,x=o(d),_=o("".slice),y=o(1..toFixed),F=function(t,e,n){return 0===e?n:e%2==1?F(t,e-1,n*t):F(t*t,e/2,n)},w=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=m(r/1e7)},k=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=m(n/t),n=n%t*1e7},C=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=v(data[t]);s=""===s?e:s+x("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:h((function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)}))||!h((function(){y({})}))},{toFixed:function(t){var e,n,r,o,d=l(this),h=c(t),data=[0,0,0,0,0,0],m="",y="0";if(h<0||h>20)throw f("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return v(d);if(d<0&&(m="-",d=-d),d>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(d*F(2,69,1))-69)<0?d*F(2,-e,1):d/F(2,e,1),n*=4503599627370496,(e=52-e)>0){for(w(data,0,n),r=h;r>=7;)w(data,1e7,0),r-=7;for(w(data,F(10,r,1),0),r=e-1;r>=23;)k(data,1<<23),r-=23;k(data,1<<r),w(data,1,1),k(data,2),y=C(data)}else w(data,0,n),w(data,1<<-e,0),y=C(data)+x("0",h);return y=h>0?m+((o=y.length)<=h?"0."+x("0",h-o)+y:_(y,0,o-h)+"."+_(y,o-h)):m+y}})},587:function(t,e,n){"use strict";n.r(e);n(40),n(49),n(15),n(557),n(24),n(342);var main=n(556),r={data:function(){return{isLoading:!1,chartOptions:{},chartThisOptions:{},thList:[{label:"編號",value:"ID"},{label:"場館區域",value:"area"},{label:"上月平均同期度數(kW)",value:"lastMonth"},{label:"本期平均用電度數(kW)",value:"thisMonth"},{label:"節電率",value:"saving"}],tableData:[],lastYearList:[],thisYearList:[]}},mounted:function(){var t=this,e=this.$moment().year(),n=this.$moment().year()-1;Object(main.d)(e).then((function(e){var data=e.data;data&&(t.thisYearList=data.map((function(t,e){return 5!==e?t.consuming:0})),Object(main.d)(n).then((function(e){var data=e.data;data&&(t.lastYearList=data.map((function(t,e){return 5!==e?t.consuming:0})),t.compare())})))}))},methods:{compare:function(){var t=this,e=[{name:"資安暨智慧科技研發大樓",code:"RdCenter"},{name:"綠能科技示範場域",code:"ITRI"},{name:"大臺南會展中心",code:"exhibition"},{name:"工研院 k棟示範場所",code:"K"},{name:"中研院南部院區",code:"E"},{name:"智慧綠能循環住宅園區",code:"R"},{name:"臺灣智駕測試實驗室",code:"C1"}],n=["C","D","A","K","E","R","C1"];Object(main.a)().then((function(r){var data=r.data.consuming,o=data.lastMonth,c=0,l=data.thisMonth;data&&(e.forEach((function(e,r){var d=o[e.code],h=l[e.code],f={ID:n[r],area:e.name,lastMonth:void 0===d?"N/A":"K"===n[r]?d.toFixed(2):d.toFixed(0),thisMonth:void 0===h?"N/A":"K"===n[r]?h.toFixed(2):h.toFixed(0),saving:isNaN(t.lastYearList[r]/h/t.lastYearList[r])?"N/A":(t.lastYearList[r]/h/t.lastYearList[r]*100).toFixed(2)+"%"};void 0!==l[e.code]&&(c+=l[e.code]),t.tableData.push(f)})),t.getChart(),t.$emit("consuming-total",c))}))},getChart:function(){var t=[],e=[];this.tableData.forEach((function(n){var r="N/A"===n.lastMonth?0:n.lastMonth,o="N/A"===n.thisMonth?0:n.thisMonth,c=[n.ID,Number(r)],l=[n.ID,Number(o)];t.push(c),e.push(l)})),this.chartOptions=this.chart(t,"上月平均同期度數(kW)"),this.chartThisOptions=this.chart(e,"本期平均用電度數(kW)")},chart:function(t,title){return{credits:{enabled:!1},legend:{enabled:!1},chart:{type:"column",backgroundColor:"transparent"},xAxis:{type:"category",labels:{style:{color:"#FFF"}}},yAxis:{title:{text:"用電度數",style:{color:"#FFF",font:"normal 16px '微軟正黑體'"}},labels:{style:{color:"#FFF"}}},title:{text:title,style:{color:"#FFF",font:"normal 20px '微軟正黑體'"}},tooltip:{headerFormat:"{point.key: %A}<br/>",style:{display:"none",font:"normal 20px '微軟正黑體'"}},series:[{data:t,colorByPoint:!0,groupPadding:0,colors:["#4F6947","#856C2D","#477880","#88522E","#813731","#204C71","#6D3265","#483F60","#385331","#766210"],dataLabels:{enabled:!0,color:"#FFFFFF",align:"center",format:"{point.y:.1f}",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}]}}}},o=n(30),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},[e("div",{staticClass:"grid grid-cols-2 gap-4 max-lg:grid-cols-1 max-lg:gap-0 mt-4"},[e("highchart",{directives:[{name:"show",rawName:"v-show",value:t.chartOptions.series,expression:"chartOptions.series"}],staticClass:"h-[400px]",attrs:{options:t.chartOptions}}),t._v(" "),e("highchart",{directives:[{name:"show",rawName:"v-show",value:t.chartThisOptions.series,expression:"chartThisOptions.series"}],staticClass:"h-[400px]",attrs:{options:t.chartThisOptions}})],1),t._v(" "),e("div",{staticClass:"inline-block min-w-full shadow-md overflow-hidden mt-4"},[e("table",{staticClass:"min-w-full leading-normal max-sm:hidden"},[e("thead",[e("tr",t._l(t.thList,(function(n){return e("th",{key:n.value,staticClass:"px-5 py-2 border-b-2 border-gray-600 bg-dark text-left text-base font-semibold text-neutral-300 normal-case tracking-wider"},[t._v("\n\t\t\t\t\t\t"+t._s(n.label)+"\n\t\t\t\t\t")])})),0)]),t._v(" "),e("tbody",t._l(t.tableData,(function(n){return e("tr",{key:n.ID},[e("td",{staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-base"},[t._v("\n\t\t\t\t\t\t"+t._s(n.ID)+"\n\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-base"},[t._v("\n\t\t\t\t\t\t"+t._s(n.area)+"\n\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-base"},[t._v("\n\t\t\t\t\t\t"+t._s(n.lastMonth)+"\n\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-lg text-dark-yellow200 font-bold"},[t._v("\n\t\t\t\t\t\t"+t._s(n.thisMonth)+"\n\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-lg text-dark-yellow200 font-bold"},[t._v("\n\t\t\t\t\t\t"+t._s(n.saving)+"\n\t\t\t\t\t")])])})),0)]),t._v(" "),e("div",{staticClass:"hidden max-sm:flex flex-col"},t._l(t.tableData,(function(n){return e("div",{key:n.name,staticClass:"px-5 py-2 border-b border-gray-600 bg-dark text-base leading-8"},[e("div",[t._v("\n\t\t\t\t\t編號 "),e("span",[t._v(t._s(n.ID))])]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t單位名稱 "),e("span",[t._v(t._s(n.area))])]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t上月平均同期度數(kW) "),e("span",[t._v(t._s(n.lastMonth))])]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t本期平均用電度數(kW)\n\t\t\t\t\t"),e("span",{staticClass:"text-2xl text-dark-yellow200 font-bold"},[t._v(t._s(n.thisMonth))])]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t節電率 "),e("span",[t._v(t._s(n.saving))])])])})),0)])])}),[],!1,null,null,null);e.default=component.exports}}]);