(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{488:function(t,e,o){var n,r,h;h=function(t){function e(t,b,a,g){t.hasOwnProperty(b)||(t[b]=g.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:b,module:t[b]}})))}e(t=t?t._modules:{},"Series/NodesComposition.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],(function(t,b,a){var e,g=a.defined,o=a.extend,n=a.find,r=a.merge,h=a.pick;return function(a){function e(){return this.data=[].concat(this.points||[],this.nodes),b.prototype.destroy.apply(this,arguments)}function q(){this.nodes&&(this.nodes.forEach((function(t){t.destroy()})),this.nodes.length=0),b.prototype.setData.apply(this,arguments)}function u(e){var o=arguments,b=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==e&&b.forEach((function(e){e&&e.series&&(t.prototype.setState.apply(e,o),e.isNode||(e.fromNode.graphic&&t.prototype.setState.apply(e.fromNode,o),e.toNode&&e.toNode.graphic&&t.prototype.setState.apply(e.toNode,o)))})),t.prototype.setState.apply(this,o)}function d(e,b,o,a){var n=this,g=this.series.options.nodes,d=this.series.options.data,c=d&&d.length||0,q=d&&d[this.index];t.prototype.update.call(this,e,!this.isNode&&b,o,a),this.isNode&&(e=(g||[]).reduce((function(t,b,a){return n.id===b.id?a:t}),-1),a=r(g&&g[e]||{},d&&d[this.index]||{}),d&&(q?d[this.index]=q:d.length=c),g?0<=e?g[e]=a:g.push(a):this.series.options.nodes=[a],h(b,!0)&&this.series.chart.redraw(o))}var c=[];a.compose=function(t,b){return-1===c.indexOf(t)&&(c.push(t),(t=t.prototype).setNodeState=u,t.setState=u,t.update=d),-1===c.indexOf(b)&&(c.push(b),(t=b.prototype).destroy=e,t.setData=q),b},a.createNode=function(t){var b=this.pointClass,e=function(t,a){return n(t,(function(t){return t.id===a}))},a=e(this.nodes,t);return a||(e=this.options.nodes&&e(this.options.nodes,t),(a=(new b).init(this,o({className:"highcharts-node",isNode:!0,id:t,y:1},e))).linksTo=[],a.linksFrom=[],a.getSum=function(){var t=0,e=0;return a.linksTo.forEach((function(a){t+=a.weight})),a.linksFrom.forEach((function(t){e+=t.weight})),Math.max(t,e)},a.offset=function(t,e){for(var b=0,o=0;o<a[e].length;o++){if(a[e][o]===t)return b;b+=a[e][o].weight}},a.hasShape=function(){var t=0;return a.linksTo.forEach((function(a){a.outgoing&&t++})),!a.linksTo.length||t!==a.linksTo.length},a.index=this.nodes.push(a)-1),a.formatPrefix="node",a.name=a.name||a.options.id||"",a.mass=h(a.options.mass,a.options.marker&&a.options.marker.radius,this.options.marker&&this.options.marker.radius,4),a},a.destroy=e,a.generatePoints=function(){var t=this.chart,a={};b.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach((function(t){t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level})),this.points.forEach((function(e){g(e.from)&&(a[e.from]||(a[e.from]=this.createNode(e.from)),a[e.from].linksFrom.push(e),e.fromNode=a[e.from],t.styledMode?e.colorIndex=h(e.options.colorIndex,a[e.from].colorIndex):e.color=e.options.color||a[e.from].color),g(e.to)&&(a[e.to]||(a[e.to]=this.createNode(e.to)),a[e.to].linksTo.push(e),e.toNode=a[e.to]),e.name=e.name||e.id}),this),this.nodeLookup=a},a.setNodeState=u,a.updateNode=d}(e||(e={})),e})),e(t,"Series/Networkgraph/Integrations.js",[t["Core/Globals.js"]],(function(t){t.networkgraphIntegrations={verlet:{attractiveForceFunction:function(b,a){return(a-b)/b},repulsiveForceFunction:function(b,a){return(a-b)/b*(a>b?1:0)},barycenter:function(){var b=this.options.gravitationalConstant,a=this.barycenter.xFactor,g=this.barycenter.yFactor;a=(a-(this.box.left+this.box.width)/2)*b,g=(g-(this.box.top+this.box.height)/2)*b,this.nodes.forEach((function(b){b.fixedPosition||(b.plotX-=a/b.mass/b.degree,b.plotY-=g/b.mass/b.degree)}))},repulsive:function(b,a,g){a=a*this.diffTemperature/b.mass/b.degree,b.fixedPosition||(b.plotX+=g.x*a,b.plotY+=g.y*a)},attractive:function(b,a,g){var t=b.getMass(),e=-g.x*a*this.diffTemperature;a=-g.y*a*this.diffTemperature,b.fromNode.fixedPosition||(b.fromNode.plotX-=e*t.fromNode/b.fromNode.degree,b.fromNode.plotY-=a*t.fromNode/b.fromNode.degree),b.toNode.fixedPosition||(b.toNode.plotX+=e*t.toNode/b.toNode.degree,b.toNode.plotY+=a*t.toNode/b.toNode.degree)},integrate:function(b,a){var g=-b.options.friction,t=b.options.maxSpeed,e=(a.plotX+a.dispX-a.prevX)*g;g*=a.plotY+a.dispY-a.prevY;var o=Math.abs,n=o(e)/(e||1);o=o(g)/(g||1),e=n*Math.min(t,Math.abs(e)),g=o*Math.min(t,Math.abs(g)),a.prevX=a.plotX+a.dispX,a.prevY=a.plotY+a.dispY,a.plotX+=e,a.plotY+=g,a.temperature=b.vectorLength({x:e,y:g})},getK:function(b){return Math.pow(b.box.width*b.box.height/b.nodes.length,.5)}},euler:{attractiveForceFunction:function(b,a){return b*b/a},repulsiveForceFunction:function(b,a){return a*a/b},barycenter:function(){var b=this.options.gravitationalConstant,a=this.barycenter.xFactor,g=this.barycenter.yFactor;this.nodes.forEach((function(t){if(!t.fixedPosition){var e=t.getDegree();e*=1+e/2,t.dispX+=(a-t.plotX)*b*e/t.degree,t.dispY+=(g-t.plotY)*b*e/t.degree}}))},repulsive:function(b,a,g,t){b.dispX+=g.x/t*a/b.degree,b.dispY+=g.y/t*a/b.degree},attractive:function(b,a,g,t){var e=b.getMass(),o=g.x/t*a;a*=g.y/t,b.fromNode.fixedPosition||(b.fromNode.dispX-=o*e.fromNode/b.fromNode.degree,b.fromNode.dispY-=a*e.fromNode/b.fromNode.degree),b.toNode.fixedPosition||(b.toNode.dispX+=o*e.toNode/b.toNode.degree,b.toNode.dispY+=a*e.toNode/b.toNode.degree)},integrate:function(b,a){a.dispX+=a.dispX*b.options.friction,a.dispY+=a.dispY*b.options.friction;var g=a.temperature=b.vectorLength({x:a.dispX,y:a.dispY});0!==g&&(a.plotX+=a.dispX/g*Math.min(Math.abs(a.dispX),b.temperature),a.plotY+=a.dispY/g*Math.min(Math.abs(a.dispY),b.temperature))},getK:function(b){return Math.pow(b.box.width*b.box.height/b.nodes.length,.3)}}}})),e(t,"Series/Networkgraph/QuadTree.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,b){b=b.extend;var a=t.QuadTreeNode=function(a){this.box=a,this.boxSize=Math.min(a.width,a.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};b(a.prototype,{insert:function(b,t){this.isInternal?this.nodes[this.getBoxPosition(b)].insert(b,t-1):(this.isEmpty=!1,this.body?t?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,t-1),this.body=!0),this.nodes[this.getBoxPosition(b)].insert(b,t-1)):((t=new a({top:b.plotX,left:b.plotY,width:.1,height:.1})).body=b,t.isInternal=!1,this.nodes.push(t)):(this.isInternal=!1,this.body=b))},updateMassAndCenter:function(){var a=0,b=0,t=0;this.isInternal?(this.nodes.forEach((function(e){e.isEmpty||(a+=e.mass,b+=e.plotX*e.mass,t+=e.plotY*e.mass)})),b/=a,t/=a):this.body&&(a=this.body.mass,b=this.body.plotX,t=this.body.plotY),this.mass=a,this.plotX=b,this.plotY=t},divideBox:function(){var b=this.box.width/2,t=this.box.height/2;this.nodes[0]=new a({left:this.box.left,top:this.box.top,width:b,height:t}),this.nodes[1]=new a({left:this.box.left+b,top:this.box.top,width:b,height:t}),this.nodes[2]=new a({left:this.box.left+b,top:this.box.top+t,width:b,height:t}),this.nodes[3]=new a({left:this.box.left,top:this.box.top+t,width:b,height:t})},getBoxPosition:function(a){var b=a.plotY<this.box.top+this.box.height/2;return a.plotX<this.box.left+this.box.width/2?b?0:3:b?1:2}}),t=t.QuadTree=function(b,t,e,o){this.box={left:b,top:t,width:e,height:o},this.maxDepth=25,this.root=new a(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()},b(t.prototype,{insertNodes:function(a){a.forEach((function(a){this.root.insert(a,this.maxDepth)}),this)},visitNodeRecursive:function(a,b,t){var e;a||(a=this.root),a===this.root&&b&&(e=b(a)),!1!==e&&(a.nodes.forEach((function(a){if(a.isInternal){if(b&&(e=b(a)),!1===e)return;this.visitNodeRecursive(a,b,t)}else a.body&&b&&b(a.body);t&&t(a)}),this),a===this.root&&t&&t(a))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,(function(a){a.updateMassAndCenter()}))}})})),e(t,"Series/Networkgraph/Layouts.js",[t["Core/Chart/Chart.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,b,a,g){var e=b.setAnimation;b=g.addEvent;var o=g.clamp,n=g.defined,r=g.extend,h=g.isFunction,p=g.pick;a.layouts={"reingold-fruchterman":function(){}},r(a.layouts["reingold-fruchterman"].prototype,{init:function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=a.networkgraphIntegrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=p(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=p(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},updateSimulation:function(a){this.enableSimulation=p(a,this.options.enableSimulation)},start:function(){var a=this.series,b=this.options;this.currentStep=0,this.forces=a[0]&&a[0].forces||[],this.chart=a[0]&&a[0].chart,this.initialRendering&&(this.initPositions(),a.forEach((function(a){a.finishedAnimating=!0,a.render()}))),this.setK(),this.resetSimulation(b),this.enableSimulation&&this.step()},step:function(){var t=this,b=this.series;t.currentStep++,"barnes-hut"===t.approximation&&(t.createQuadTree(),t.quadTree.calculateMassAndCenter()),t.forces.forEach((function(a){t[a+"Forces"](t.temperature)})),t.applyLimits(t.temperature),t.temperature=t.coolDown(t.startTemperature,t.diffTemperature,t.currentStep),t.prevSystemTemperature=t.systemTemperature,t.systemTemperature=t.getSystemTemperature(),t.enableSimulation&&(b.forEach((function(a){a.chart&&a.render()})),t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()?(t.simulation&&a.win.cancelAnimationFrame(t.simulation),t.simulation=a.win.requestAnimationFrame((function(){t.step()}))):t.simulation=!1)},stop:function(){this.simulation&&a.win.cancelAnimationFrame(this.simulation)},setArea:function(a,b,t,e){this.box={left:a,top:b,width:t,height:e}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(a,b){a.forEach((function(a){-1===b.indexOf(a)&&b.push(a)}))},removeElementFromCollection:function(a,b){-1!==(a=b.indexOf(a))&&b.splice(a,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(a){this.maxIterations=p(a,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(a){this.initialRendering=a},createQuadTree:function(){this.quadTree=new a.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var a=this.options.initialPositions;h(a)?(a.call(this),this.nodes.forEach((function(a){n(a.prevX)||(a.prevX=a.plotX),n(a.prevY)||(a.prevY=a.plotY),a.dispX=0,a.dispY=0}))):"circle"===a?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function a(b){b.linksFrom.forEach((function(b){n[b.toNode.id]||(n[b.toNode.id]=!0,o.push(b.toNode),a(b.toNode))}))}var b=this.box,t=this.nodes,e=2*Math.PI/(t.length+1),g=t.filter((function(a){return 0===a.linksTo.length})),o=[],n={},r=this.options.initialPositionRadius;g.forEach((function(b){o.push(b),a(b)})),o.length?t.forEach((function(a){-1===o.indexOf(a)&&o.push(a)})):o=t,o.forEach((function(a,t){a.plotX=a.prevX=p(a.plotX,b.width/2+r*Math.cos(t*e)),a.plotY=a.prevY=p(a.plotY,b.height/2+r*Math.sin(t*e)),a.dispX=0,a.dispY=0}))},setRandomPositions:function(){function a(a){return(a=a*a/Math.PI)-Math.floor(a)}var b=this.box,t=this.nodes,e=t.length+1;t.forEach((function(t,o){t.plotX=t.prevX=p(t.plotX,b.width*a(o)),t.plotY=t.prevY=p(t.plotY,b.height*a(e+o)),t.dispX=0,t.dispY=0}))},force:function(a){this.integration[a].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var a=0,b=0,t=0;return this.nodes.forEach((function(e){b+=e.plotX*e.mass,t+=e.plotY*e.mass,a+=e.mass})),this.barycenter={x:b,y:t,xFactor:b/a,yFactor:t/a}},barnesHutApproximation:function(a,b){var t=this.getDistXY(a,b),e=this.vectorLength(t);if(a!==b&&0!==e)if(b.isInternal)if(b.boxSize/e<this.options.theta&&0!==e){var o=this.repulsiveForce(e,this.k);this.force("repulsive",a,o*b.mass,t,e);var n=!1}else n=!0;else o=this.repulsiveForce(e,this.k),this.force("repulsive",a,o*b.mass,t,e);return n},repulsiveForces:function(){var a=this;"barnes-hut"===a.approximation?a.nodes.forEach((function(b){a.quadTree.visitNodeRecursive(null,(function(t){return a.barnesHutApproximation(b,t)}))})):a.nodes.forEach((function(b){a.nodes.forEach((function(t){if(b!==t&&!b.fixedPosition){var e=a.getDistXY(b,t),o=a.vectorLength(e);if(0!==o){var n=a.repulsiveForce(o,a.k);a.force("repulsive",b,n*t.mass,e,o)}}}))}))},attractiveForces:function(){var b,t,e,a=this;a.links.forEach((function(o){o.fromNode&&o.toNode&&(b=a.getDistXY(o.fromNode,o.toNode),0!==(t=a.vectorLength(b))&&(e=a.attractiveForce(t,a.k),a.force("attractive",o,e,b,t)))}))},applyLimits:function(){var a=this;a.nodes.forEach((function(b){b.fixedPosition||(a.integration.integrate(a,b),a.applyLimitBox(b,a.box),b.dispX=0,b.dispY=0)}))},applyLimitBox:function(a,b){var t=a.radius;a.plotX=o(a.plotX,b.left+t,b.width-t),a.plotY=o(a.plotY,b.top+t,b.height-t)},coolDown:function(a,b,t){return a-b*t},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce((function(a,b){return a+b.temperature}),0)},vectorLength:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},getDistR:function(a,b){return a=this.getDistXY(a,b),this.vectorLength(a)},getDistXY:function(a,b){var t=a.plotX-b.plotX;return{x:t,y:a=a.plotY-b.plotY,absX:Math.abs(t),absY:Math.abs(a)}}}),b(t,"predraw",(function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((function(a){a.stop()}))})),b(t,"render",(function(){function a(a){a.maxIterations--&&isFinite(a.temperature)&&!a.isStable()&&!a.enableSimulation&&(a.beforeStep&&a.beforeStep(),a.step(),t=!1,b=!0)}var b=!1;if(this.graphLayoutsLookup){for(e(!1,this),this.graphLayoutsLookup.forEach((function(a){a.start()}));!t;){var t=!0;this.graphLayoutsLookup.forEach(a)}b&&this.series.forEach((function(a){a&&a.layout&&a.render()}))}})),b(t,"beforePrint",(function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((function(a){a.updateSimulation(!1)})),this.redraw())})),b(t,"afterPrint",(function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((function(a){a.updateSimulation()})),this.redraw()}))})),e(t,"Series/Networkgraph/DraggableNodes.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,b,a){var g=a.addEvent;b.dragNodesMixin={onMouseDown:function(a,b){b=this.chart.pointer.normalize(b),a.fixedPosition={chartX:b.chartX,chartY:b.chartY,plotX:a.plotX,plotY:a.plotY},a.inDragMode=!0},onMouseMove:function(a,b){if(a.fixedPosition&&a.inDragMode){var t=this.chart,e=t.pointer.normalize(b);b=a.fixedPosition.chartX-e.chartX,e=a.fixedPosition.chartY-e.chartY;var g=void 0,o=void 0,n=t.graphLayoutsLookup;(5<Math.abs(b)||5<Math.abs(e))&&(g=a.fixedPosition.plotX-b,o=a.fixedPosition.plotY-e,t.isInsidePlot(g,o)&&(a.plotX=g,a.plotY=o,a.hasDragged=!0,this.redrawHalo(a),n.forEach((function(a){a.restartSimulation()}))))}},onMouseUp:function(a,b){a.fixedPosition&&(a.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),a.inDragMode=a.hasDragged=!1,this.options.fixedDraggable||delete a.fixedPosition)},redrawHalo:function(a){a&&this.halo&&this.halo.attr({d:a.haloPath(this.options.states.hover.halo.size)})}},g(t,"load",(function(){var b,t,e,a=this;a.container&&(b=g(a.container,"mousedown",(function(b){var o=a.hoverPoint;o&&o.series&&o.series.hasDraggableNodes&&o.series.options.draggable&&(o.series.onMouseDown(o,b),t=g(a.container,"mousemove",(function(a){return o&&o.series&&o.series.onMouseMove(o,a)})),e=g(a.container.ownerDocument,"mouseup",(function(a){return t(),e(),o&&o.series&&o.series.onMouseUp(o,a)})))}))),g(a,"destroy",(function(){b()}))}))})),e(t,"Series/Networkgraph/Networkgraph.js",[t["Core/Globals.js"],t["Series/NodesComposition.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,b,a,g,e,o){var n=this&&this.__extends||function(){var a=function(b,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var t in b)b.hasOwnProperty(t)&&(a[t]=b[t])},a(b,t)};return function(b,t){function e(){this.constructor=b}a(b,t),b.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),r=e.seriesTypes,h=o.addEvent,p=o.css,d=o.defined,q=o.extend,u=o.merge,c=o.pick,l=t.dragNodesMixin;return o=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.data=void 0,b.nodes=void 0,b.options=void 0,b.points=void 0,b}return n(b,a),b.defaultOptions=u(g.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),b}(g),q(o.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:r.column.prototype.drawTracker,animate:void 0,buildKDTree:t.noop,createNode:b.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),b.destroy.call(this)},init:function(){var a=this;return g.prototype.init.apply(this,arguments),h(this,"updatedData",(function(){a.layout&&a.layout.stop()})),h(this,"afterUpdate",(function(){a.nodes.forEach((function(a){a&&a.series&&a.resolveColor()}))})),this},generatePoints:function(){var a;for(b.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach((function(a){this.nodeLookup[a.id]||(this.nodeLookup[a.id]=this.createNode(a.id))}),this),a=this.nodes.length-1;0<=a;a--){var t=this.nodes[a];t.degree=t.getDegree(),t.radius=c(t.marker&&t.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[t.id]||t.remove()}this.data.forEach((function(a){a.formatPrefix="link"})),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach((function(a,b){a.index=b}))},markerAttribs:function(a,b){return b=g.prototype.markerAttribs.call(this,a,b),d(a.plotY)||(b.y=0),b.x=(a.plotX||0)-(b.width||0)/2,b},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach((function(a){a.isInside=!0,a.linksFrom.forEach((function(a){a.shapeType="path",a.y=1}))}))},deferLayout:function(){var a=this.options.layoutAlgorithm,b=this.chart.graphLayoutsStorage,e=this.chart.graphLayoutsLookup,g=this.chart.options.chart;if(this.visible){b||(this.chart.graphLayoutsStorage=b={},this.chart.graphLayoutsLookup=e=[]);var o=b[a.type];o||(a.enableSimulation=d(g.forExport)?!g.forExport:a.enableSimulation,b[a.type]=o=new t.layouts[a.type],o.init(a),e.splice(o.index,0,o)),this.layout=o,o.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),o.addElementsToCollection([this],o.series),o.addElementsToCollection(this.nodes,o.nodes),o.addElementsToCollection(this.points,o.links)}},render:function(){var a=this.points,b=this.chart.hoverPoint,t=[];this.points=this.nodes,r.line.prototype.render.call(this),this.points=a,a.forEach((function(a){a.fromNode&&a.toNode&&(a.renderLink(),a.redrawLink())})),b&&b.series===this&&this.redrawHalo(b),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach((function(a){a.dataLabel&&t.push(a.dataLabel)})),this.chart.hideOverlappingLabels(t))},drawDataLabels:function(){var a=this.options.dataLabels.textPath;g.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,g.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=a},pointAttribs:function(a,b){var t=b||a&&a.state||"normal";return b=g.prototype.pointAttribs.call(this,a,t),t=this.options.states[t],a&&!a.isNode&&(b=a.getLinkAttributes(),t&&(b={stroke:t.linkColor||b.stroke,dashstyle:t.linkDashStyle||b.dashstyle,opacity:c(t.linkOpacity,b.opacity),"stroke-width":t.linkColor||b["stroke-width"]})),b},redrawHalo:l.redrawHalo,onMouseDown:l.onMouseDown,onMouseMove:l.onMouseMove,onMouseUp:l.onMouseUp,setState:function(a,b){b?(this.points=this.nodes.concat(this.data),g.prototype.setState.apply(this,arguments),this.points=this.data):g.prototype.setState.apply(this,arguments),this.layout.simulation||a||this.render()}}),l=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.degree=void 0,b.linksFrom=void 0,b.linksTo=void 0,b.options=void 0,b.radius=void 0,b.series=void 0,b.toNode=void 0,b}return n(b,a),b}(g.prototype.pointClass),q(l.prototype,{setState:b.setNodeState,init:function(){return a.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(h(this,"mouseOver",(function(){p(this.series.chart.container,{cursor:"move"})})),h(this,"mouseOut",(function(){p(this.series.chart.container,{cursor:"default"})}))),this},getDegree:function(){var a=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===a?1:a},getLinkAttributes:function(){var a=this.series.options.link,b=this.options;return{"stroke-width":c(b.width,a.width),stroke:b.color||a.color,dashstyle:b.dashStyle||a.dashStyle,opacity:c(b.opacity,a.opacity,1)}},renderLink:function(){if(!this.graphic&&(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),!this.series.chart.styledMode)){var a=this.series.pointAttribs(this);this.graphic.attr(a),(this.dataLabels||[]).forEach((function(b){b&&b.attr({opacity:a.opacity})}))}},redrawLink:function(){var a=this.getLinkPath();if(this.graphic){if(this.shapeArgs={d:a},!this.series.chart.styledMode){var b=this.series.pointAttribs(this);this.graphic.attr(b),(this.dataLabels||[]).forEach((function(a){a&&a.attr({opacity:b.opacity})}))}this.graphic.animate(this.shapeArgs);var t=a[0];a=a[1],"M"===t[0]&&"L"===a[0]&&(this.plotX=(t[1]+a[1])/2,this.plotY=(t[2]+a[2])/2)}},getMass:function(){var a=this.fromNode.mass,b=this.toNode.mass,t=a+b;return{fromNode:1-a/t,toNode:1-b/t}},getLinkPath:function(){var a=this.fromNode,b=this.toNode;return a.plotX>b.plotX&&(a=this.toNode,b=this.fromNode),[["M",a.plotX||0,a.plotY||0],["L",b.plotX||0,b.plotY||0]]},isValid:function(){return!this.isNode||d(this.id)},remove:function(a,b){var t,e=this.series,o=e.options.nodes||[],n=o.length;if(this.isNode){for(e.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach((function(a){-1<(t=a.fromNode.linksFrom.indexOf(a))&&a.fromNode.linksFrom.splice(t,1),-1<(t=a.toNode.linksTo.indexOf(a))&&a.toNode.linksTo.splice(t,1),g.prototype.removePoint.call(e,e.data.indexOf(a),!1,!1)})),e.points=e.data.slice(),e.nodes.splice(e.nodes.indexOf(this),1);n--;)if(o[n].id===this.options.id){e.options.nodes.splice(n,1);break}this&&this.destroy(),e.isDirty=!0,e.isDirtyData=!0,a&&e.chart.redraw(a)}else e.removePoint(e.data.indexOf(this),a,b)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach((function(a){a.destroyElements&&a.destroyElements()})),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),a.prototype.destroy.apply(this,arguments)}}),o.prototype.pointClass=l,e.registerSeriesType("networkgraph",o),o})),e(t,"masters/modules/networkgraph.src.js",[],(function(){}))},t.exports?(h.default=h,t.exports=h):(n=[o(138)],void 0===(r=function(t){return h(t),h.Highcharts=t,h}.apply(e,n))||(t.exports=r))}}]);